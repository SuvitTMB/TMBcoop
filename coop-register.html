<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Canvas Confetti for Fireworks -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Google Font (Sarabun) -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Sarabun', sans-serif; }
        .hidden { display: none !important; }
        
        /* Custom Animations */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        @keyframes bounce-slow { 0%, 100% { transform: translateY(-5%); } 50% { transform: translateY(0); } }
        .animate-bounce-slow { animation: bounce-slow 2s infinite; }
        
        /* Remove number arrows */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        
        .input-focus:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        }

        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body class="bg-slate-100 min-h-screen pb-10">

    <!-- Header Section -->
    <div class="bg-gradient-to-r from-blue-800 to-indigo-900 text-white p-6 rounded-b-[2.5rem] shadow-xl mb-8 relative overflow-hidden">
        <div class="absolute top-0 right-0 opacity-10 transform translate-x-10 -translate-y-10">
            <i data-lucide="shield-check" width="150" height="150"></i>
        </div>
        
        <div class="relative z-10 flex flex-col items-center">
            <div class="bg-white/20 p-3 rounded-full mb-3 backdrop-blur-sm">
                <i data-lucide="calendar" width="32" height="32" class="text-white"></i>
            </div>
            <h1 class="text-xl font-bold text-center">ประชุมใหญ่สามัญประจำปี 2568</h1>
            <p class="text-blue-100 text-sm mt-1 text-center">สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</p>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="px-4 max-w-lg mx-auto -mt-10">
        
        <!-- Registration Form Screen -->
        <div id="screen-form" class="bg-white rounded-2xl shadow-2xl p-6 border border-slate-200 relative z-20">
            <form id="registration-form" class="space-y-6 pt-2">
                <div class="text-center">
                    <div>
                        <label for="idCard" class="block text-sm font-semibold text-gray-700 mb-2 text-center">
                            เลขบัตรประจำตัวประชาชน
                        </label>
                        <div class="relative">
                            <input
                                type="text"
                                id="idCard"
                                placeholder="x-xxxx-xxxxx-xx-x"
                                class="w-full text-xl font-mono tracking-widest p-4 rounded-xl border-2 border-gray-300 bg-white outline-none transition-all text-center input-focus"
                                inputmode="numeric"
                                maxlength="17"
                            />
                            <i id="icon-check-valid" data-lucide="check-circle" class="hidden absolute right-4 top-1/2 transform -translate-y-1/2 text-green-500 w-6 h-6 animate-fade-in"></i>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">กรุณากรอกตัวเลข 13 หลักให้ครบถ้วน</p>
                    </div>

                    <!-- Info Box -->
                    <div class="p-4 bg-amber-50 border border-amber-200 text-amber-900 rounded-xl text-xs flex gap-3 items-start mt-6 text-left">
                        <i data-lucide="info" class="w-5 h-5 shrink-0 text-amber-600"></i>
                        <span class="leading-relaxed">ผู้ที่จะได้รับรางวัลค่าตอบแทนการประชุม 200 บาท<br><b class="text-red-600">จะต้องลงทะเบียนเข้า และลงทะเบียนออก เท่านั้น</b></span>
                    </div>
                </div>

                <button
                    type="submit"
                    id="btn-submit"
                    disabled
                    class="w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2 bg-gray-200 text-gray-400 cursor-not-allowed"
                >
                    <span id="btn-text">ตรวจสอบ / ลงทะเบียน</span>
                    <i id="btn-loader" data-lucide="loader-2" class="hidden animate-spin"></i>
                </button>
            </form>
        </div>

        <!-- Success Screen -->
        <div id="screen-success" class="hidden bg-white rounded-2xl shadow-2xl p-8 w-full text-center animate-fade-in relative z-20 border border-blue-100">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="user-check" class="text-green-600 w-10 h-10"></i>
            </div>
            
            <!-- User Info Section -->
            <div class="mb-4">
                <h3 id="success-user-name" class="text-2xl font-bold text-blue-800 mb-1"></h3>
                <h2 id="success-title" class="text-lg font-medium text-gray-600">ลงทะเบียนสำเร็จ</h2>
                <p id="success-checkin-datetime" class="text-blue-500 font-semibold text-xs mt-1">--/--/---- --:--</p>
            </div>
            
            <!-- Dynamic Content Area -->
            <div id="status-content-area" class="mb-8">
                <!-- First Time Flow: Voting Card -->
                <div id="flow-first-time" class="hidden space-y-4">
                    <div id="voting-status-box" class="bg-indigo-700 text-white p-6 rounded-2xl shadow-inner">
                        <div id="voting-box-content">
                            <p class="text-lg font-bold">ขอให้สมาชิกติดต่อเจ้าหน้าที่</p>
                            <p class="text-sm mt-2 leading-relaxed">เพื่อขอบัตรเลือกตั้งกรรมการ <br>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</p>
                        </div>
                    </div>
                    
                    <div class="pt-4 space-y-3">
                        <button id="btn-confirm-voting" onclick="window.app.confirmVotingCard()" class="w-full bg-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-emerald-700 shadow-lg transition-all active:scale-95">
                            ยืนยันการรับบัตรเลือกตั้งแล้ว
                        </button>
                        
                        <!-- Warning Message moved here and staff hint removed -->
                        <p id="voting-warning" class="text-red-600 text-sm font-semibold">คำเตือน<br>ห้ามออกจากหน้านี้หากยังไม่ได้รับบัตรเลือกตั้ง<br>เมื่อออกไปแล้วจะไม่สามารถรับบัตรเลือกตั้งได้</p>
                    </div>
                </div>

                <!-- Returning Flow: Visit Counter -->
                <div id="flow-returning" class="hidden">
                    <div class="bg-blue-50 border-2 border-blue-200 p-8 rounded-2xl">
                        <p class="text-gray-500 text-sm">คุณเข้ามาทำรายการเป็น</p>
                        <div class="flex items-baseline justify-center gap-2 mt-1">
                            <span id="login-count-text" class="text-5xl font-black text-blue-700">0</span>
                            <span class="text-xl font-bold text-blue-700">ครั้ง</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <button id="btn-back-main" onclick="window.app.resetForm()" class="hidden w-full bg-slate-800 text-white py-4 rounded-xl font-bold text-lg hover:bg-slate-900 transition shadow-xl">
                กลับสู่หน้าหลัก
            </button>
        </div>

        <!-- Not Found Screen -->
        <div id="screen-not-found" class="hidden bg-white rounded-2xl shadow-2xl p-8 w-full text-center animate-fade-in relative z-20 border-2 border-amber-100">
            <div class="w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="user-x" class="text-amber-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-amber-700 mb-2">ไม่พบข้อมูลในระบบ</h2>
            <p class="text-gray-600 mb-8 text-sm leading-relaxed">
                ไม่พบข้อมูลการลงทะเบียนของรหัสบัตรประชาชนหมายเลขนี้ <br>
                <b class="text-amber-800 text-base">กรุณาติดต่อเจ้าหน้าที่</b>
            </p>
            <button onclick="window.app.resetForm()" class="w-full bg-amber-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-amber-700 transition shadow-lg">
                ตกลง
            </button>
        </div>

        <!-- Lightbox / Modal for Confirmation -->
        <div id="modal-confirm" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4 modal-backdrop animate-fade-in">
            <div class="bg-white rounded-3xl shadow-2xl max-w-sm w-full p-8 text-center animate-fade-in">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="help-circle" class="text-blue-600 w-8 h-8"></i>
                </div>
                <div id="modal-content" class="mb-8">
                    <p id="modal-user-name" class="text-xl font-bold text-gray-800 mb-1"></p>
                    <p class="text-gray-600 leading-relaxed">ขอยืนยันการรับบัตรเลือกตั้ง เรียบร้อยแล้ว</p>
                </div>
                <div class="flex flex-col gap-3">
                    <button id="btn-modal-submit" onclick="window.app.finalConfirmVoting()" class="w-full bg-blue-500 text-white py-3 rounded-xl font-bold hover:bg-blue-800 transition active:scale-95">
                        ยืนยันการรับบัตรเลือกตั้ง
                    </button>
                    <button onclick="window.app.closeModal()" class="w-full bg-red-500 text-white py-3 rounded-xl font-semibold hover:bg-red-800 transition">
                        ยกเลิกรายการ
                    </button>
                </div>
            </div>
        </div>

        <!-- Error Screen -->
        <div id="screen-error-device" class="hidden bg-white rounded-2xl shadow-xl p-8 w-full text-center animate-fade-in relative z-20 border-2 border-red-50">
            <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="alert-circle" class="text-red-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-red-700 mb-2">ไม่สามารถดำเนินการได้</h2>
            <p id="error-msg-text" class="text-gray-600 mb-6 text-sm">
                เกิดข้อผิดพลาดในการประมวลผล กรุณาลองใหม่อีกครั้ง
            </p>
            <button onclick="window.location.reload()" class="w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-300 transition">
                ตกลง
            </button>
        </div>

        <!-- Footer -->
        <p class="text-center text-gray-400 text-xs mt-8">
            ระบบลงทะเบียนสมาชิกสหกรณ์ <br/>
            © 2026 สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด
        </p>
    </main>

    <!-- Firebase and Application Logic -->
    <script type="module">
const _0x15d861=_0x421c;function _0x421c(_0xe3ad7,_0x2b1518){_0xe3ad7=_0xe3ad7-0x111;const _0x20f5e5=_0x20f5();let _0x421cb6=_0x20f5e5[_0xe3ad7];return _0x421cb6;}(function(_0x501029,_0xa64496){const _0xa26fca=_0x421c,_0x47ff17=_0x501029();while(!![]){try{const _0x3a2b78=parseInt(_0xa26fca(0x17f))/0x1*(parseInt(_0xa26fca(0x131))/0x2)+parseInt(_0xa26fca(0x129))/0x3*(parseInt(_0xa26fca(0x13d))/0x4)+parseInt(_0xa26fca(0x14c))/0x5*(-parseInt(_0xa26fca(0x15d))/0x6)+-parseInt(_0xa26fca(0x12a))/0x7*(-parseInt(_0xa26fca(0x11a))/0x8)+parseInt(_0xa26fca(0x156))/0x9+-parseInt(_0xa26fca(0x15f))/0xa+-parseInt(_0xa26fca(0x17d))/0xb;if(_0x3a2b78===_0xa64496)break;else _0x47ff17['push'](_0x47ff17['shift']());}catch(_0x1d7ac3){_0x47ff17['push'](_0x47ff17['shift']());}}}(_0x20f5,0xf01c8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js';import{getFirestore,collection,addDoc,updateDoc,doc,serverTimestamp,query,where,getDocs,increment}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';const TARGET_COLLECTION_NAME=_0x15d861(0x146),isSandboxEnv=typeof __firebase_config!=='undefined';let firebaseConfig,finalCollectionPath;if(isSandboxEnv){firebaseConfig=JSON[_0x15d861(0x17e)](__firebase_config);const appId=typeof __app_id!==_0x15d861(0x16d)?__app_id:_0x15d861(0x159);finalCollectionPath=_0x15d861(0x15b)+appId+_0x15d861(0x145);}else firebaseConfig={'apiKey':_0x15d861(0x120),'authDomain':_0x15d861(0x178),'databaseURL':_0x15d861(0x137),'projectId':_0x15d861(0x126),'storageBucket':_0x15d861(0x182),'messagingSenderId':_0x15d861(0x133),'appId':_0x15d861(0x12e),'measurementId':'G-9DJLWJ5LQ1'},finalCollectionPath=TARGET_COLLECTION_NAME;const state={'user':null,'idCard':'','currentDocId':null,'empName':''},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);async function sha256(_0x112d5f){const _0x5abdcf=_0x15d861,_0x218d1c=new TextEncoder()[_0x5abdcf(0x16c)](_0x112d5f),_0x2e111b=await crypto[_0x5abdcf(0x180)][_0x5abdcf(0x132)](_0x5abdcf(0x17c),_0x218d1c),_0x361185=Array[_0x5abdcf(0x134)](new Uint8Array(_0x2e111b)),_0x24d8e5=_0x361185[_0x5abdcf(0x13e)](_0x1fa350=>_0x1fa350[_0x5abdcf(0x149)](0x10)[_0x5abdcf(0x166)](0x2,'0'))['join']('');return _0x24d8e5;}function getDeviceId(){const _0x12e38c=_0x15d861,_0x189cc6=_0x12e38c(0x171);let _0x1adc2e=localStorage[_0x12e38c(0x176)](_0x189cc6);return!_0x1adc2e&&(_0x1adc2e=_0x12e38c(0x174)+Date['now']()['toString'](0x24)+Math[_0x12e38c(0x144)]()[_0x12e38c(0x149)](0x24)['substr'](0x2,0x9),localStorage[_0x12e38c(0x150)](_0x189cc6,_0x1adc2e)),_0x1adc2e;}window[_0x15d861(0x140)]={'resetForm':()=>{const _0x28877e=_0x15d861,_0x544c70=['screen-success','screen-error-device','modal-confirm',_0x28877e(0x14e)];_0x544c70[_0x28877e(0x167)](_0x2fa9f8=>document[_0x28877e(0x117)](_0x2fa9f8)[_0x28877e(0x141)][_0x28877e(0x114)](_0x28877e(0x11b))),document[_0x28877e(0x117)]('screen-form')[_0x28877e(0x141)]['remove'](_0x28877e(0x11b));const _0xef69d3=document['getElementById'](_0x28877e(0x13f));_0xef69d3['value']='',state[_0x28877e(0x13f)]='',state[_0x28877e(0x115)]=null,state['empName']='';const _0x5e7b2b=document[_0x28877e(0x117)](_0x28877e(0x124));_0x5e7b2b[_0x28877e(0x158)]=!![],_0x5e7b2b[_0x28877e(0x141)][_0x28877e(0x114)]('bg-gray-200',_0x28877e(0x11e)),_0x5e7b2b['classList'][_0x28877e(0x148)]('bg-blue-700',_0x28877e(0x165)),document[_0x28877e(0x117)](_0x28877e(0x123))['innerHTML']=_0x28877e(0x14b),document[_0x28877e(0x117)](_0x28877e(0x157))[_0x28877e(0x141)][_0x28877e(0x148)](_0x28877e(0x11b)),document[_0x28877e(0x117)]('voting-warning')[_0x28877e(0x141)][_0x28877e(0x148)](_0x28877e(0x11b)),document[_0x28877e(0x117)](_0x28877e(0x12f))[_0x28877e(0x141)]['add'](_0x28877e(0x11b)),_0xef69d3[_0x28877e(0x141)][_0x28877e(0x148)](_0x28877e(0x170),_0x28877e(0x135)),_0xef69d3[_0x28877e(0x141)][_0x28877e(0x114)](_0x28877e(0x155),_0x28877e(0x127)),_0xef69d3[_0x28877e(0x112)]();},'closeModal':()=>{const _0x4ced3c=_0x15d861;document['getElementById'](_0x4ced3c(0x175))[_0x4ced3c(0x141)]['add']('hidden');},'confirmVotingCard':()=>{const _0x11bb72=_0x15d861;document[_0x11bb72(0x117)](_0x11bb72(0x16a))[_0x11bb72(0x169)]=state['empName'],document['getElementById'](_0x11bb72(0x175))[_0x11bb72(0x141)][_0x11bb72(0x148)](_0x11bb72(0x11b));},'finalConfirmVoting':async()=>{const _0x426203=_0x15d861;if(!state['currentDocId'])return;const _0x2f5d9e=document[_0x426203(0x117)]('btn-modal-submit');_0x2f5d9e[_0x426203(0x158)]=!![];try{const _0x11d04e=new Date();await updateDoc(doc(db,finalCollectionPath,state[_0x426203(0x115)]),{'ConfirmVotingCard':serverTimestamp(),'CardPoll':_0x426203(0x151)}),window[_0x426203(0x140)][_0x426203(0x143)](),document[_0x426203(0x117)](_0x426203(0x123))[_0x426203(0x16e)]=_0x426203(0x111)+state[_0x426203(0x173)]+_0x426203(0x152)+_0x11d04e[_0x426203(0x183)]('th-TH')+'\x20'+_0x11d04e['toLocaleTimeString'](_0x426203(0x11c))+_0x426203(0x138),document[_0x426203(0x117)]('btn-confirm-voting')[_0x426203(0x141)]['add']('hidden'),document[_0x426203(0x117)](_0x426203(0x139))[_0x426203(0x141)][_0x426203(0x114)](_0x426203(0x11b)),document[_0x426203(0x117)](_0x426203(0x113))['classList'][_0x426203(0x148)](_0x426203(0x11b)),confetti({'particleCount':0xc8,'spread':0x50,'origin':{'y':0.6}});}catch(_0x1d96ad){console[_0x426203(0x147)](_0x426203(0x13b),_0x1d96ad),_0x2f5d9e['disabled']=![];}}};function showSuccess(_0x53145b,_0x9b0792){const _0x44e481=_0x15d861;state[_0x44e481(0x173)]=_0x53145b[_0x44e481(0x116)]||_0x44e481(0x17b),document[_0x44e481(0x117)](_0x44e481(0x163))[_0x44e481(0x169)]=state[_0x44e481(0x173)];const _0x3a7dd3=document[_0x44e481(0x117)](_0x44e481(0x128)),_0x278407=new Date();_0x3a7dd3[_0x44e481(0x169)]=_0x44e481(0x12b)+_0x278407[_0x44e481(0x183)]('th-TH')+'\x20'+_0x278407['toLocaleTimeString'](_0x44e481(0x11c));const _0x18309f=document[_0x44e481(0x117)](_0x44e481(0x154)),_0x54a691=document[_0x44e481(0x117)](_0x44e481(0x12d)),_0x884762=document[_0x44e481(0x117)](_0x44e481(0x113));_0x9b0792?(_0x18309f[_0x44e481(0x141)][_0x44e481(0x148)](_0x44e481(0x11b)),_0x54a691[_0x44e481(0x141)][_0x44e481(0x114)]('hidden'),_0x884762[_0x44e481(0x141)][_0x44e481(0x114)](_0x44e481(0x11b))):(_0x18309f[_0x44e481(0x141)][_0x44e481(0x114)](_0x44e481(0x11b)),_0x54a691[_0x44e481(0x141)][_0x44e481(0x148)](_0x44e481(0x11b)),document[_0x44e481(0x117)](_0x44e481(0x168))[_0x44e481(0x169)]=_0x53145b[_0x44e481(0x17a)],_0x884762[_0x44e481(0x141)][_0x44e481(0x148)]('hidden'));document[_0x44e481(0x117)](_0x44e481(0x16f))[_0x44e481(0x141)][_0x44e481(0x114)](_0x44e481(0x11b)),document[_0x44e481(0x117)](_0x44e481(0x162))[_0x44e481(0x141)][_0x44e481(0x148)](_0x44e481(0x11b));if(window[_0x44e481(0x179)])lucide['createIcons']();}function showNotFound(){const _0x4844bd=_0x15d861;document[_0x4844bd(0x117)](_0x4844bd(0x16f))[_0x4844bd(0x141)]['add'](_0x4844bd(0x11b)),document[_0x4844bd(0x117)]('screen-not-found')[_0x4844bd(0x141)][_0x4844bd(0x148)]('hidden');if(window[_0x4844bd(0x179)])lucide[_0x4844bd(0x14d)]();}async function submitForm(_0x2de20f){const _0x1cc604=_0x15d861;_0x2de20f['preventDefault']();if(!state[_0x1cc604(0x13c)])return;const _0x2d31c3=document['getElementById']('btn-submit'),_0x2488fd=document[_0x1cc604(0x117)](_0x1cc604(0x12c)),_0xd8d919=document[_0x1cc604(0x117)](_0x1cc604(0x177));_0x2d31c3[_0x1cc604(0x158)]=!![],_0x2488fd[_0x1cc604(0x169)]=_0x1cc604(0x121),_0xd8d919[_0x1cc604(0x141)]['remove'](_0x1cc604(0x11b));try{const _0x30650a=getDeviceId(),_0x37fef0=state['idCard'][_0x1cc604(0x161)](/-/g,''),_0x56a3b8=await sha256(_0x37fef0),_0x220239=query(collection(db,finalCollectionPath),where(_0x1cc604(0x122),'==',_0x56a3b8)),_0x1cb892=await getDocs(_0x220239);if(_0x1cb892['empty']){showNotFound();return;}const _0x5b2cb7=_0x1cb892[_0x1cc604(0x11f)][0x0],_0x51ca04=_0x5b2cb7[_0x1cc604(0x119)]();state[_0x1cc604(0x115)]=_0x5b2cb7['id'];const _0xe7489a=_0x51ca04['TimeLogin']||0x0,_0x52b411=_0xe7489a===0x0,_0x84c661={'TimeLogin':increment(0x1),'deviceId':_0x30650a};!_0x51ca04[_0x1cc604(0x142)]&&(_0x84c661['CheckIN']=serverTimestamp(),_0x84c661[_0x1cc604(0x125)]=_0x1cc604(0x14a));await updateDoc(doc(db,finalCollectionPath,_0x5b2cb7['id']),_0x84c661);const _0x418e19={..._0x51ca04,'TimeLogin':_0xe7489a+0x1};showSuccess(_0x418e19,_0x52b411);}catch(_0x1a1f4f){console[_0x1cc604(0x147)](_0x1cc604(0x160),_0x1a1f4f),document['getElementById'](_0x1cc604(0x15a))['innerText']=_0x1cc604(0x11d)+_0x1a1f4f[_0x1cc604(0x15e)],document['getElementById'](_0x1cc604(0x16f))[_0x1cc604(0x141)][_0x1cc604(0x114)](_0x1cc604(0x11b)),document['getElementById'](_0x1cc604(0x136))[_0x1cc604(0x141)]['remove'](_0x1cc604(0x11b));}finally{_0x2d31c3[_0x1cc604(0x158)]=![],_0x2488fd[_0x1cc604(0x169)]=_0x1cc604(0x181),_0xd8d919[_0x1cc604(0x141)][_0x1cc604(0x114)](_0x1cc604(0x11b));}}function handleIdInput(_0x34bcad){const _0x52db60=_0x15d861;let _0x2f4e43=_0x34bcad['target']['value'][_0x52db60(0x161)](/[^0-9]/g,'');if(_0x2f4e43[_0x52db60(0x15c)]>0xd)_0x2f4e43=_0x2f4e43[_0x52db60(0x153)](0x0,0xd);let _0xd6bb1f=_0x2f4e43;if(_0x2f4e43[_0x52db60(0x15c)]>0x1)_0xd6bb1f=_0x2f4e43[_0x52db60(0x153)](0x0,0x1)+'-'+_0x2f4e43[_0x52db60(0x153)](0x1);if(_0x2f4e43[_0x52db60(0x15c)]>0x5)_0xd6bb1f=_0xd6bb1f[_0x52db60(0x153)](0x0,0x6)+'-'+_0xd6bb1f[_0x52db60(0x153)](0x6);if(_0x2f4e43[_0x52db60(0x15c)]>0xa)_0xd6bb1f=_0xd6bb1f[_0x52db60(0x153)](0x0,0xc)+'-'+_0xd6bb1f[_0x52db60(0x153)](0xc);if(_0x2f4e43['length']>0xc)_0xd6bb1f=_0xd6bb1f[_0x52db60(0x153)](0x0,0xf)+'-'+_0xd6bb1f[_0x52db60(0x153)](0xf);state['idCard']=_0xd6bb1f,_0x34bcad['target'][_0x52db60(0x172)]=_0xd6bb1f;const _0xd17f4c=document['getElementById'](_0x52db60(0x124)),_0x5ae748=document[_0x52db60(0x117)](_0x52db60(0x12f));_0x2f4e43[_0x52db60(0x15c)]===0xd?(_0xd17f4c['disabled']=![],_0xd17f4c[_0x52db60(0x141)][_0x52db60(0x114)](_0x52db60(0x164),_0x52db60(0x165)),_0xd17f4c[_0x52db60(0x141)][_0x52db60(0x148)]('bg-gray-200',_0x52db60(0x11e)),_0x5ae748['classList'][_0x52db60(0x148)]('hidden'),_0x34bcad[_0x52db60(0x14f)][_0x52db60(0x141)]['add'](_0x52db60(0x170),'bg-blue-50/30')):(_0xd17f4c[_0x52db60(0x158)]=!![],_0xd17f4c[_0x52db60(0x141)][_0x52db60(0x148)]('bg-blue-700',_0x52db60(0x165)),_0xd17f4c['classList'][_0x52db60(0x114)](_0x52db60(0x16b),_0x52db60(0x11e)),_0x5ae748[_0x52db60(0x141)][_0x52db60(0x114)]('hidden'),_0x34bcad[_0x52db60(0x14f)]['classList'][_0x52db60(0x148)](_0x52db60(0x170),_0x52db60(0x135)));}function _0x20f5(){const _0x30456e=['success-user-name','bg-blue-700','text-white','padStart','forEach','login-count-text','innerText','modal-user-name','bg-gray-200','encode','undefined','innerHTML','screen-form','border-blue-500','coop_device_identifier','value','empName','DEV-','modal-confirm','getItem','btn-loader','ttb-register.firebaseapp.com','lucide','TimeLogin','สมาชิกสหกรณ์','SHA-256','19329321ezpmcW','parse','512831EWrORJ','subtle','ตรวจสอบ\x20/\x20ลงทะเบียน','ttb-register.firebasestorage.app','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x22>','focus','btn-back-main','add','currentDocId','EmpName','getElementById','addEventListener','data','1792WEVVAX','hidden','th-TH','เกิดข้อผิดพลาด:\x20','text-gray-400','docs','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','กำลังตรวจสอบ...','citizenId','voting-box-content','btn-submit','status','ttb-register','bg-white','success-checkin-datetime','82089WeVAXf','9345xIHIFl','ลงทะเบียนเมื่อ:\x20','btn-text','flow-returning','1:1070273157855:web:5c8120e1df27e233d8676a','icon-check-valid','Auth\x20Error','6BrOPxQ','digest','1070273157855','from','bg-blue-50/30','screen-error-device','https://ttb-register-default-rtdb.asia-southeast1.firebasedate.app','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','voting-warning','submit','Confirm\x20voting\x20error:','user','268ffUPsQ','map','idCard','app','classList','CheckIN','closeModal','random','/public/data/coop_registrations','tmb_coop','error','remove','toString','checked-in','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-bold\x22>ขอให้สมาชิกติดต่อเจ้าหน้าที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20mt-2\x20leading-relaxed\x22>เพื่อขอบัตรเลือกตั้งกรรมการ\x20<br>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย\x20จำกัด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5gTRlBA','createIcons','screen-not-found','target','setItem','รับบัตรเลือกตั้ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mt-1\x20font-semibold\x22>ขอยืนยันการรับบัตรเลือกตั้งแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20mt-2\x20opacity-90\x22>เมื่อ\x20','slice','flow-first-time','border-gray-300','8518770SAIOLT','btn-confirm-voting','disabled','default-app-id','error-msg-text','artifacts/','length','5639364kPpOwF','message','9367830QPyIal','Submit\x20Error:','replace','screen-success'];_0x20f5=function(){return _0x30456e;};return _0x20f5();}async function initAuth(){const _0x33a3bb=_0x15d861;try{typeof __initial_auth_token!==_0x33a3bb(0x16d)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x464cfd){console[_0x33a3bb(0x147)](_0x33a3bb(0x130),_0x464cfd);}}onAuthStateChanged(auth,_0x5ea377=>{state['user']=_0x5ea377;}),document[_0x15d861(0x117)]('registration-form')[_0x15d861(0x118)](_0x15d861(0x13a),submitForm),document[_0x15d861(0x117)](_0x15d861(0x13f))[_0x15d861(0x118)]('input',handleIdInput),window[_0x15d861(0x118)]('load',()=>{const _0x284ee0=_0x15d861;document[_0x284ee0(0x117)](_0x284ee0(0x13f))[_0x284ee0(0x112)]();if(window[_0x284ee0(0x179)])lucide[_0x284ee0(0x14d)]();}),initAuth();
    </script>
</body>
</html>
