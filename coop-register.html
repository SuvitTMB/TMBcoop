<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Canvas Confetti for Fireworks -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Google Font (Sarabun) -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Sarabun', sans-serif; }
        .hidden { display: none !important; }
        
        /* Custom Animations */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        @keyframes bounce-slow { 0%, 100% { transform: translateY(-5%); } 50% { transform: translateY(0); } }
        .animate-bounce-slow { animation: bounce-slow 2s infinite; }
        
        /* Remove number arrows */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        
        .input-focus:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        }

        /* Modal Backdrop Fade */
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body class="bg-slate-100 min-h-screen pb-10">

    <!-- Header Section -->
    <div class="bg-gradient-to-r from-blue-800 to-indigo-900 text-white p-6 rounded-b-[2.5rem] shadow-xl mb-8 relative overflow-hidden">
        <div class="absolute top-0 right-0 opacity-10 transform translate-x-10 -translate-y-10">
            <i data-lucide="shield-check" width="150" height="150"></i>
        </div>
        
        <div class="relative z-10 flex flex-col items-center">
            <div class="bg-white/20 p-3 rounded-full mb-3 backdrop-blur-sm">
                <i data-lucide="calendar" width="32" height="32" class="text-white"></i>
            </div>
            <h1 class="text-xl font-bold text-center">ประชุมใหญ่สามัญประจำปี 2568</h1>
            <p class="text-blue-100 text-sm mt-1 text-center">สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</p>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="px-4 max-w-lg mx-auto -mt-10">
        
        <!-- Registration Form Screen -->
        <div id="screen-form" class="bg-white rounded-2xl shadow-2xl p-6 border border-slate-200 relative z-20">
            <form id="registration-form" class="space-y-6 pt-2">
                <div class="text-center">
                    <div>
                        <label for="idCard" class="block text-sm font-semibold text-gray-700 mb-2 text-center">
                            เลขบัตรประจำตัวประชาชน
                        </label>
                        <div class="relative">
                            <input
                                type="text"
                                id="idCard"
                                placeholder="x-xxxx-xxxxx-xx-x"
                                class="w-full text-xl font-mono tracking-widest p-4 rounded-xl border-2 border-gray-300 bg-white outline-none transition-all text-center input-focus"
                                inputmode="numeric"
                                maxlength="17"
                            />
                            <i id="icon-check-valid" data-lucide="check-circle" class="hidden absolute right-4 top-1/2 transform -translate-y-1/2 text-green-500 w-6 h-6 animate-fade-in"></i>
                        </div>
                        <p class="text-xm text-gray-500 mt-2">กรุณากรอกตัวเลข 13 หลักให้ครบถ้วน</p>
                    </div>

                    <!-- Info Box -->
                    <div class="p-4 bg-amber-50 border border-amber-200 text-amber-900 rounded-xl text-xs flex gap-3 items-start mt-6 text-left">
                        <i data-lucide="info" class="w-5 h-5 shrink-0 text-amber-600"></i>
                        <span class="leading-relaxed">ผู้ที่เข้าร่วมประชุมสหกรณ์ออมทรัพย์ฯ ประจำปี 2568 จนครบวาระการประชุม จะได้รับรางวัลค่าตอบแทนการประชุม 200 บาท</span>
                    </div>
                </div>

                <button
                    type="submit"
                    id="btn-submit"
                    disabled
                    class="w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2 bg-gray-200 text-gray-400 cursor-not-allowed"
                >
                    <span id="btn-text">ตรวจสอบ / ลงทะเบียน</span>
                    <i id="btn-loader" data-lucide="loader-2" class="hidden animate-spin"></i>
                </button>
            </form>
        </div>

        <!-- Success Screen -->
        <div id="screen-success" class="hidden bg-white rounded-2xl shadow-2xl p-8 w-full text-center animate-fade-in relative z-20 border border-blue-100">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="user-check" class="text-green-600 w-10 h-10"></i>
            </div>
            
            <!-- User Info Section -->
            <div class="mb-4">
                <h3 id="success-user-name" class="text-2xl font-bold text-blue-800 mb-1"></h3>
                <h2 id="success-title" class="text-lg font-medium text-gray-600">ลงทะเบียนสำเร็จ</h2>
                <p id="success-checkin-datetime" class="text-blue-500 font-semibold text-xs mt-1">--/--/---- --:--</p>
            </div>
            
            <!-- Dynamic Content Area -->
            <div id="status-content-area" class="mb-8">
                <!-- First Time Flow: Voting Card -->
                <div id="flow-first-time" class="hidden space-y-4">
                    <div id="voting-status-box" class="bg-indigo-700 text-white p-6 rounded-2xl shadow-inner" style="margin-top:20px;">
                        <div id="voting-box-content">
                            <p class="text-lg font-bold">ขอให้สมาชิกติดต่อเจ้าหน้าที่</p>
                            <p class="text-sm mt-2 leading-relaxed">เพื่อขอบัตรเลือกตั้งกรรมการ <br>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</p>
                        </div>
                    </div>
                    
                    <!-- Warning Message below the box -->
                    <p id="voting-warning" class="text-red-600 text-xm">คำเตือน<br>ห้ามออกจากหน้านี้หากยังไม่ได้รับบัตรเลือกตั้ง<br>เมื่อออกไปแล้วจะไม่สามารถรับบัตรเลือกตั้งได้</p>
                    
                    <div class="pt-4 space-y-3">
                        <button id="btn-confirm-voting" onclick="window.app.confirmVotingCard()" class="w-full bg-emerald-600 text-white py-3 rounded-xl font-semibold hover:bg-emerald-700 shadow-lg transition-all active:scale-95">
                            คลิกเพื่อ ยืนยันการรับบัตรเลือกตั้ง
                        </button>
                        <p id="staff-hint" class="text-xs text-red-500 tracking-wider">
                            *** คลิกยืนยันเมื่อท่านได้รับบัตรเลือกตั้งแล้วท่านั้น ***
                        </p>
                    </div>
                </div>

                <!-- Returning Flow: Visit Counter -->
                <div id="flow-returning" class="hidden">
                    <div class="bg-blue-50 border-2 border-blue-200 p-8 rounded-2xl">
                        <p class="text-gray-500 text-sm">คุณเข้ามาทำรายการเป็น</p>
                        <div class="flex items-baseline justify-center gap-2 mt-1">
                            <span id="login-count-text" class="text-5xl font-black text-blue-700">0</span>
                            <span class="text-xl font-bold text-blue-700">ครั้ง</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Button -->
            <button id="btn-back-main" onclick="window.app.resetForm()" class="hidden w-full bg-slate-800 text-white py-4 rounded-xl font-bold text-lg hover:bg-slate-900 transition shadow-xl">
                กลับสู่หน้าหลัก
            </button>
        </div>

        <!-- Lightbox / Modal for Confirmation -->
        <div id="modal-confirm" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4 modal-backdrop animate-fade-in">
            <div class="bg-white rounded-3xl shadow-2xl max-w-sm w-full p-8 text-center animate-fade-in">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="help-circle" class="text-blue-600 w-8 h-8"></i>
                </div>
                <div id="modal-content" class="mb-8">
                    <p id="modal-user-name" class="text-xl font-bold text-gray-800 mb-1"></p>
                    <p class="text-gray-600 leading-relaxed">ขอยืนยันการรับบัตรเลือกตั้ง เรียบร้อยแล้ว</p>
                </div>
                <div class="flex flex-col gap-3">
                    <button id="btn-modal-submit" onclick="window.app.finalConfirmVoting()" class="w-full bg-blue-500 text-white py-3 rounded-xl font-bold hover:bg-blue-800 transition active:scale-95">
                        ยืนยันการรับบัตรเลือกตั้ง
                    </button>
                    <button onclick="window.app.closeModal()" class="w-full bg-red-500 text-white py-3 rounded-xl font-semibold hover:bg-red-800 transition">
                        ยกเลิกรายการ
                    </button>
                </div>
            </div>
        </div>

        <!-- Error Screen -->
        <div id="screen-error-device" class="hidden bg-white rounded-2xl shadow-xl p-8 w-full text-center animate-fade-in relative z-20 border-2 border-red-50">
            <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="alert-circle" class="text-red-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-red-700 mb-2">ไม่สามารถดำเนินการได้</h2>
            <p id="error-msg-text" class="text-gray-600 mb-6 text-sm">
                เกิดข้อผิดพลาดในการประมวลผล กรุณาลองใหม่อีกครั้ง
            </p>
            <button onclick="window.location.reload()" class="w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-300 transition">
                ตกลง
            </button>
        </div>

        <!-- Footer -->
        <p class="text-center text-gray-400 text-xs mt-8">
            ระบบลงทะเบียนสมาชิกสหกรณ์ <br/>
            © 2026 สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด
        </p>
    </main>

    <!-- Firebase and Application Logic -->
    <script type="module">
const _0x407488=_0x4a9e;(function(_0x4f1f3b,_0xb6ac85){const _0x1ea795=_0x4a9e,_0x2fcf6e=_0x4f1f3b();while(!![]){try{const _0x1329c3=-parseInt(_0x1ea795(0x1a2))/0x1*(-parseInt(_0x1ea795(0x1bc))/0x2)+-parseInt(_0x1ea795(0x1e2))/0x3*(-parseInt(_0x1ea795(0x197))/0x4)+parseInt(_0x1ea795(0x1aa))/0x5+parseInt(_0x1ea795(0x18e))/0x6+-parseInt(_0x1ea795(0x1ef))/0x7+-parseInt(_0x1ea795(0x1c3))/0x8*(-parseInt(_0x1ea795(0x1cd))/0x9)+-parseInt(_0x1ea795(0x19e))/0xa;if(_0x1329c3===_0xb6ac85)break;else _0x2fcf6e['push'](_0x2fcf6e['shift']());}catch(_0x29f00c){_0x2fcf6e['push'](_0x2fcf6e['shift']());}}}(_0x2097,0x782d8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js';import{getFirestore,collection,addDoc,updateDoc,doc,serverTimestamp,query,where,getDocs,increment}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';const TARGET_COLLECTION_NAME=_0x407488(0x1f0),isSandboxEnv=typeof __firebase_config!==_0x407488(0x1b2);let firebaseConfig,finalCollectionPath;if(isSandboxEnv){firebaseConfig=JSON['parse'](__firebase_config);const appId=typeof __app_id!=='undefined'?__app_id:_0x407488(0x1e6);finalCollectionPath='artifacts/'+appId+_0x407488(0x199);}else firebaseConfig={'apiKey':_0x407488(0x188),'authDomain':_0x407488(0x1a9),'databaseURL':_0x407488(0x1b1),'projectId':_0x407488(0x18d),'storageBucket':_0x407488(0x185),'messagingSenderId':_0x407488(0x1c2),'appId':'1:1070273157855:web:5c8120e1df27e233d8676a','measurementId':'G-9DJLWJ5LQ1'},finalCollectionPath=TARGET_COLLECTION_NAME;const state={'user':null,'idCard':'','currentDocId':null,'empName':''},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);async function sha256(_0x3e00a0){const _0x452e69=_0x407488,_0x486af4=new TextEncoder()[_0x452e69(0x1a6)](_0x3e00a0),_0x47a70e=await crypto[_0x452e69(0x1d3)][_0x452e69(0x1a7)](_0x452e69(0x1bb),_0x486af4),_0x1023ec=Array[_0x452e69(0x1c5)](new Uint8Array(_0x47a70e)),_0x3cdbf5=_0x1023ec[_0x452e69(0x1be)](_0x5d1006=>_0x5d1006[_0x452e69(0x1cc)](0x10)[_0x452e69(0x18b)](0x2,'0'))['join']('');return _0x3cdbf5;}function getDeviceId(){const _0x2a231a=_0x407488,_0x2c3436=_0x2a231a(0x1de);let _0x419a02=localStorage[_0x2a231a(0x194)](_0x2c3436);return!_0x419a02&&(_0x419a02=_0x2a231a(0x1d1)+Date[_0x2a231a(0x1d5)]()[_0x2a231a(0x1cc)](0x24)+Math[_0x2a231a(0x1cf)]()[_0x2a231a(0x1cc)](0x24)[_0x2a231a(0x1ec)](0x2,0x9),localStorage['setItem'](_0x2c3436,_0x419a02)),_0x419a02;}window[_0x407488(0x193)]={'resetForm':()=>{const _0x294397=_0x407488,_0x2ae92b=['screen-success',_0x294397(0x1b5),'modal-confirm'];_0x2ae92b[_0x294397(0x195)](_0x967d2=>document[_0x294397(0x181)](_0x967d2)[_0x294397(0x1eb)][_0x294397(0x1d0)](_0x294397(0x19d))),document['getElementById'](_0x294397(0x19f))[_0x294397(0x1eb)]['remove']('hidden');const _0x4561ab=document[_0x294397(0x181)](_0x294397(0x184));_0x4561ab[_0x294397(0x1df)]='',state[_0x294397(0x184)]='',state['currentDocId']=null,state[_0x294397(0x1d4)]='';const _0x4be630=document[_0x294397(0x181)](_0x294397(0x1e7));_0x4be630[_0x294397(0x19b)]=!![],_0x4be630[_0x294397(0x1eb)][_0x294397(0x1d0)](_0x294397(0x1ba),_0x294397(0x1c8)),_0x4be630[_0x294397(0x1eb)]['remove'](_0x294397(0x1ae),_0x294397(0x187)),document[_0x294397(0x181)](_0x294397(0x1c0))[_0x294397(0x1eb)][_0x294397(0x1ca)](_0x294397(0x189)),document[_0x294397(0x181)](_0x294397(0x1d8))['innerHTML']=_0x294397(0x1ea),document[_0x294397(0x181)](_0x294397(0x1cb))[_0x294397(0x1eb)][_0x294397(0x1ca)](_0x294397(0x19d)),document[_0x294397(0x181)](_0x294397(0x1cb))[_0x294397(0x19b)]=![],document['getElementById'](_0x294397(0x1f2))[_0x294397(0x1eb)][_0x294397(0x1ca)](_0x294397(0x19d)),document[_0x294397(0x181)](_0x294397(0x1e3))['classList']['remove'](_0x294397(0x19d)),document['getElementById'](_0x294397(0x1e1))[_0x294397(0x1eb)][_0x294397(0x1d0)](_0x294397(0x19d)),_0x4561ab[_0x294397(0x1eb)]['remove'](_0x294397(0x1c1),_0x294397(0x1db)),_0x4561ab[_0x294397(0x1eb)][_0x294397(0x1d0)]('border-gray-300',_0x294397(0x1f1)),_0x4561ab[_0x294397(0x1ee)]();},'closeModal':()=>{const _0x5bd721=_0x407488;document['getElementById'](_0x5bd721(0x1ac))[_0x5bd721(0x1eb)][_0x5bd721(0x1d0)](_0x5bd721(0x19d));},'confirmVotingCard':()=>{const _0x588733=_0x407488;document[_0x588733(0x181)](_0x588733(0x1e0))['innerText']=state[_0x588733(0x1d4)],document['getElementById']('modal-confirm')['classList'][_0x588733(0x1ca)](_0x588733(0x19d));},'finalConfirmVoting':async()=>{const _0x162388=_0x407488;if(!state[_0x162388(0x1c6)])return;const _0x5ceaf9=document[_0x162388(0x181)]('btn-modal-submit');_0x5ceaf9[_0x162388(0x19b)]=!![],_0x5ceaf9[_0x162388(0x191)]=_0x162388(0x1b6);try{const _0x4e3a1c=new Date();await updateDoc(doc(db,finalCollectionPath,state[_0x162388(0x1c6)]),{'ConfirmVotingCard':serverTimestamp(),'CardPoll':'รับบัตรเลือกตั้ง'}),window[_0x162388(0x193)][_0x162388(0x18c)](),document['getElementById'](_0x162388(0x1c0))['classList'][_0x162388(0x1ca)](_0x162388(0x189)),document['getElementById'](_0x162388(0x1d8))[_0x162388(0x1a1)]=_0x162388(0x186)+state[_0x162388(0x1d4)]+_0x162388(0x1c4)+_0x4e3a1c['toLocaleDateString'](_0x162388(0x198))+'\x20'+_0x4e3a1c[_0x162388(0x19c)](_0x162388(0x198))+_0x162388(0x1d9),document['getElementById'](_0x162388(0x1f2))[_0x162388(0x1eb)]['add'](_0x162388(0x19d)),document['getElementById']('btn-confirm-voting')[_0x162388(0x1eb)][_0x162388(0x1d0)](_0x162388(0x19d)),document[_0x162388(0x181)]('voting-warning')[_0x162388(0x1eb)][_0x162388(0x1d0)](_0x162388(0x19d)),document[_0x162388(0x181)](_0x162388(0x192))[_0x162388(0x1eb)][_0x162388(0x1ca)]('hidden'),confetti({'particleCount':0xc8,'spread':0x50,'origin':{'y':0.6}});}catch(_0x2a83e7){console['error'](_0x162388(0x1b4),_0x2a83e7),_0x5ceaf9[_0x162388(0x19b)]=![],_0x5ceaf9[_0x162388(0x191)]=_0x162388(0x18f);}}};function _0x4a9e(_0x2500b8,_0x11e091){_0x2500b8=_0x2500b8-0x181;const _0x2097de=_0x2097();let _0x4a9eb6=_0x2097de[_0x2500b8];return _0x4a9eb6;}function showSuccess(_0x46915f,_0x929ba9){const _0x529961=_0x407488;state[_0x529961(0x1d4)]=_0x46915f[_0x529961(0x1b8)]||_0x529961(0x182);const _0x4716bf=document[_0x529961(0x181)](_0x529961(0x1a3));_0x4716bf[_0x529961(0x191)]=state[_0x529961(0x1d4)];const _0xfec796=document['getElementById'](_0x529961(0x1ce)),_0x2860e0=new Date();_0xfec796[_0x529961(0x191)]=_0x529961(0x1a8)+_0x2860e0[_0x529961(0x1d7)](_0x529961(0x198))+'\x20'+_0x2860e0['toLocaleTimeString'](_0x529961(0x198));const _0x125823=document[_0x529961(0x181)](_0x529961(0x1d6)),_0x4f75ca=document[_0x529961(0x181)](_0x529961(0x1e4)),_0x3f81b6=document[_0x529961(0x181)](_0x529961(0x192));_0x929ba9?(_0x125823['classList'][_0x529961(0x1ca)](_0x529961(0x19d)),_0x4f75ca[_0x529961(0x1eb)][_0x529961(0x1d0)](_0x529961(0x19d)),_0x3f81b6[_0x529961(0x1eb)]['add'](_0x529961(0x19d))):(_0x125823['classList'][_0x529961(0x1d0)](_0x529961(0x19d)),_0x4f75ca[_0x529961(0x1eb)][_0x529961(0x1ca)]('hidden'),document[_0x529961(0x181)](_0x529961(0x1a5))['innerText']=_0x46915f[_0x529961(0x196)],_0x3f81b6[_0x529961(0x1eb)][_0x529961(0x1ca)](_0x529961(0x19d)));document[_0x529961(0x181)](_0x529961(0x19f))[_0x529961(0x1eb)][_0x529961(0x1d0)]('hidden'),document['getElementById'](_0x529961(0x1b3))[_0x529961(0x1eb)][_0x529961(0x1ca)](_0x529961(0x19d));if(window[_0x529961(0x1b7)])lucide['createIcons']();}async function submitForm(_0x14501e){const _0x54ec0f=_0x407488;_0x14501e['preventDefault']();if(!state[_0x54ec0f(0x183)])return;const _0x66bc1b=document['getElementById'](_0x54ec0f(0x1e7)),_0x39d67e=document[_0x54ec0f(0x181)](_0x54ec0f(0x1af)),_0xc0c0c2=document[_0x54ec0f(0x181)](_0x54ec0f(0x1c7));_0x66bc1b[_0x54ec0f(0x19b)]=!![],_0x39d67e['innerText']=_0x54ec0f(0x19a),_0xc0c0c2[_0x54ec0f(0x1eb)][_0x54ec0f(0x1ca)](_0x54ec0f(0x19d));try{const _0x49f5da=getDeviceId(),_0x56bf0b=state[_0x54ec0f(0x184)]['replace'](/-/g,''),_0x40e52a=await sha256(_0x56bf0b),_0x369827=query(collection(db,finalCollectionPath),where(_0x54ec0f(0x1a0),'==',_0x40e52a)),_0x30dbc5=await getDocs(_0x369827);if(!_0x30dbc5[_0x54ec0f(0x18a)]){const _0x2d8321=_0x30dbc5[_0x54ec0f(0x1e5)][0x0],_0xc0a68d=_0x2d8321['data']();state[_0x54ec0f(0x1c6)]=_0x2d8321['id'];const _0x55e18e=(_0xc0a68d[_0x54ec0f(0x196)]||0x0)+0x1,_0x49d6b8={'TimeLogin':increment(0x1),'deviceId':_0x49f5da};!_0xc0a68d['CheckIN']&&(_0x49d6b8['CheckIN']=serverTimestamp(),_0x49d6b8['status']=_0x54ec0f(0x1dd));await updateDoc(doc(db,finalCollectionPath,_0x2d8321['id']),_0x49d6b8);const _0xb5d9b1={..._0xc0a68d,'TimeLogin':_0x55e18e};showSuccess(_0xb5d9b1,_0x55e18e===0x1);}else{const _0x35a07e=await addDoc(collection(db,finalCollectionPath),{'citizenId':_0x40e52a,'deviceId':_0x49f5da,'CheckIN':serverTimestamp(),'TimeLogin':0x1,'status':_0x54ec0f(0x1dd)});state['currentDocId']=_0x35a07e['id'],showSuccess({'TimeLogin':0x1},!![]);}}catch(_0x9067d9){console[_0x54ec0f(0x1d2)]('Submit\x20Error:',_0x9067d9),document[_0x54ec0f(0x181)](_0x54ec0f(0x1a4))[_0x54ec0f(0x191)]='เกิดข้อผิดพลาด:\x20'+_0x9067d9[_0x54ec0f(0x1ad)],document['getElementById']('screen-form')[_0x54ec0f(0x1eb)]['add'](_0x54ec0f(0x19d)),document[_0x54ec0f(0x181)](_0x54ec0f(0x1b5))[_0x54ec0f(0x1eb)][_0x54ec0f(0x1ca)]('hidden');}finally{_0x66bc1b[_0x54ec0f(0x19b)]=![],_0x39d67e[_0x54ec0f(0x191)]=_0x54ec0f(0x1bd),_0xc0c0c2[_0x54ec0f(0x1eb)][_0x54ec0f(0x1d0)](_0x54ec0f(0x19d));}}function handleIdInput(_0xde0c59){const _0x45913f=_0x407488;let _0x2bb704=_0xde0c59[_0x45913f(0x1b0)][_0x45913f(0x1df)][_0x45913f(0x1ed)](/[^0-9]/g,'');if(_0x2bb704[_0x45913f(0x1e8)]>0xd)_0x2bb704=_0x2bb704['slice'](0x0,0xd);let _0x42eb98=_0x2bb704;if(_0x2bb704['length']>0x1)_0x42eb98=_0x2bb704[_0x45913f(0x190)](0x0,0x1)+'-'+_0x2bb704['slice'](0x1);if(_0x2bb704[_0x45913f(0x1e8)]>0x5)_0x42eb98=_0x42eb98[_0x45913f(0x190)](0x0,0x6)+'-'+_0x42eb98[_0x45913f(0x190)](0x6);if(_0x2bb704[_0x45913f(0x1e8)]>0xa)_0x42eb98=_0x42eb98[_0x45913f(0x190)](0x0,0xc)+'-'+_0x42eb98['slice'](0xc);if(_0x2bb704[_0x45913f(0x1e8)]>0xc)_0x42eb98=_0x42eb98[_0x45913f(0x190)](0x0,0xf)+'-'+_0x42eb98[_0x45913f(0x190)](0xf);state[_0x45913f(0x184)]=_0x42eb98,_0xde0c59[_0x45913f(0x1b0)][_0x45913f(0x1df)]=_0x42eb98;const _0x28601f=document[_0x45913f(0x181)](_0x45913f(0x1e7)),_0x1589fd=document[_0x45913f(0x181)](_0x45913f(0x1e1));_0x2bb704[_0x45913f(0x1e8)]===0xd?(_0x28601f['disabled']=![],_0x28601f[_0x45913f(0x1eb)]['add'](_0x45913f(0x1ae),_0x45913f(0x187),_0x45913f(0x1bf)),_0x28601f[_0x45913f(0x1eb)][_0x45913f(0x1ca)](_0x45913f(0x1ba),_0x45913f(0x1c8)),_0x1589fd[_0x45913f(0x1eb)][_0x45913f(0x1ca)]('hidden'),_0xde0c59[_0x45913f(0x1b0)][_0x45913f(0x1eb)][_0x45913f(0x1d0)]('border-blue-500',_0x45913f(0x1db))):(_0x28601f[_0x45913f(0x19b)]=!![],_0x28601f[_0x45913f(0x1eb)][_0x45913f(0x1ca)](_0x45913f(0x1ae),_0x45913f(0x187),_0x45913f(0x1bf)),_0x28601f['classList']['add']('bg-gray-200',_0x45913f(0x1c8)),_0x1589fd[_0x45913f(0x1eb)][_0x45913f(0x1d0)](_0x45913f(0x19d)),_0xde0c59[_0x45913f(0x1b0)][_0x45913f(0x1eb)]['remove'](_0x45913f(0x1c1),_0x45913f(0x1db)));}async function initAuth(){const _0x252db1=_0x407488;try{typeof __initial_auth_token!==_0x252db1(0x1b2)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2fc851){console['error'](_0x252db1(0x1c9),_0x2fc851);}}onAuthStateChanged(auth,_0x365da2=>{state['user']=_0x365da2;}),document[_0x407488(0x181)]('registration-form')[_0x407488(0x1e9)](_0x407488(0x1b9),submitForm),document['getElementById'](_0x407488(0x184))[_0x407488(0x1e9)](_0x407488(0x1ab),handleIdInput),window[_0x407488(0x1e9)](_0x407488(0x1da),()=>{const _0x475342=_0x407488;document[_0x475342(0x181)](_0x475342(0x184))[_0x475342(0x1ee)]();if(window['lucide'])lucide[_0x475342(0x1dc)]();}),initAuth();function _0x2097(){const _0x5ed627=['text-gray-400','Auth\x20Error','remove','btn-confirm-voting','toString','6634134xYpkem','success-checkin-datetime','random','add','DEV-','error','subtle','empName','now','flow-first-time','toLocaleDateString','voting-box-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load','bg-blue-50/30','createIcons','checked-in','coop_device_identifier','value','modal-user-name','icon-check-valid','23163nRSyhY','voting-warning','flow-returning','docs','default-app-id','btn-submit','length','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-bold\x22>ขอให้สมาชิกติดต่อเจ้าหน้าที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20mt-2\x20leading-relaxed\x22>เพื่อขอบัตรเลือกตั้งกรรมการ\x20<br>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย\x20จำกัด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','substr','replace','focus','2373910YMpoDF','tmb_coop','bg-white','staff-hint','getElementById','สมาชิกสหกรณ์','user','idCard','ttb-register.firebasestorage.app','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x22>','text-white','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','animate-pulse','empty','padStart','closeModal','ttb-register','535524JqEyMK','ยืนยัน\x20(ลองใหม่อีกครั้ง)','slice','innerText','btn-back-main','app','getItem','forEach','TimeLogin','476CKEPyA','th-TH','/public/data/coop_registrations','กำลังประมวลผล...','disabled','toLocaleTimeString','hidden','22781320moLmvs','screen-form','citizenId','innerHTML','111022BsnJeR','success-user-name','error-msg-text','login-count-text','encode','digest','ลงทะเบียนเมื่อ:\x20','ttb-register.firebaseapp.com','2380775vSkvLw','input','modal-confirm','message','bg-blue-700','btn-text','target','https://ttb-register-default-rtdb.asia-southeast1.firebasedate.app','undefined','screen-success','Confirm\x20voting\x20error:','screen-error-device','ได้รับบัตรเลือกตั้งแล้ว','lucide','EmpName','submit','bg-gray-200','SHA-256','16NUFxCf','ตรวจสอบ\x20/\x20ลงทะเบียน','map','shadow-blue-200','voting-status-box','border-blue-500','1070273157855','8SCrSHz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mt-1\x20font-semibold\x22>ขอยืนยันการรับบัตรเลือกตั้งแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20mt-2\x20opacity-90\x22>เมื่อ\x20','from','currentDocId','btn-loader'];_0x2097=function(){return _0x5ed627;};return _0x2097();}
    </script>
</body>
</html>
