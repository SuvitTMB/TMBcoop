<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Font (Sarabun) -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Sarabun', sans-serif; }
        .hidden { display: none !important; }
        /* Custom Animations */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        /* Remove number arrows */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen pb-10">

    <!-- Header Section -->
    <div class="bg-gradient-to-r from-blue-700 to-indigo-800 text-white p-6 rounded-b-[2.5rem] shadow-lg mb-8 relative overflow-hidden">
        <div class="absolute top-0 right-0 opacity-10 transform translate-x-10 -translate-y-10">
            <i data-lucide="shield-check" width="150" height="150"></i>
        </div>
        
        <div class="relative z-10 flex flex-col items-center">
            <div class="bg-white/20 p-3 rounded-full mb-3 backdrop-blur-sm">
                <i data-lucide="user" width="32" height="32" class="text-white"></i>
            </div>
            <h1 class="text-xl font-bold text-center">ลงทะเบียนสมาชิก</h1>
            <p class="text-blue-100 text-sm mt-1">สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</p>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="px-2 sm:px-4 max-w-lg mx-auto -mt-10">
        
        <!-- Registration Form Screen -->
        <div id="screen-form" class="bg-white rounded-2xl shadow-xl p-6 border border-slate-100 relative z-20">
            
            <form id="registration-form" class="space-y-6 pt-2">
                <center>
                <!-- Single Input ID Card -->
                <div>
                    <label for="idCard" class="block text-sm font-semibold text-gray-700 mb-2">
                        เลขบัตรประจำตัวประชาชน
                    </label>
                    <div class="relative">
                        <input
                            type="text"
                            id="idCard"
                            placeholder="x-xxxx-xxxxx-xx-x"
                            class="w-full text-xl font-mono tracking-wide p-4 rounded-xl border-2 border-gray-200 bg-white focus:border-blue-400 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-center"
                            inputmode="numeric"
                            maxlength="17"
                        />
                        <i id="icon-check-valid" data-lucide="check-circle" class="hidden absolute right-4 top-1/2 transform -translate-y-1/2 text-green-500 w-6 h-6 animate-fade-in"></i>
                    </div>
                    <p class="text-xs text-gray-400 mt-2 ml-1">กรุณากรอกตัวเลข 13 หลักให้ครบถ้วน</p>
                </div>

                <!-- Info Box -->
                <div class="p-3 bg-blue-50 text-blue-800 rounded-lg text-xs flex gap-2 items-start" style="margin-top:25px; text-align: left;">
                    <i data-lucide="info" class="w-4 h-4 shrink-0 mt-0.5"></i>
                    <span>จำกัดสิทธิ์ 1 เครื่องโทรศัพท์ต่อ 1 หมายเลขบัตรฯ เท่านั้น<br>ผู้ที่จะได้รับรางวัลค่าตอบแทนการประชุม 200 บาทจะต้องลงทะเบียนเข้า และลงทะเบียนออก เท่านั้น</span>
                </div>
                </center>

                <!-- Submit Button -->
                <button
                    type="submit"
                    id="btn-submit"
                    disabled
                    class="w-full py-3 rounded-lg font-semibold text-base shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2 bg-gray-200 text-gray-400 cursor-not-allowed shadow-none"
                >
                    <span id="btn-text">ตรวจสอบ / ลงทะเบียน</span>
                    <i id="btn-loader" data-lucide="loader-2" class="hidden animate-spin"></i>
                </button>
            </form>
        </div>

        <!-- Success Screen -->
        <!-- Edited: Removed 'max-w-sm' to match registration form width -->
        <div id="screen-success" class="hidden bg-white rounded-2xl shadow-xl p-8 w-full text-center animate-fade-in mx-auto relative z-20">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="check-circle" class="text-green-600 w-10 h-10"></i>
            </div>
            
            <h2 class="text-xl font-bold text-gray-800 mb-1">ลงทะเบียนสำเร็จ</h2>
            <!-- Date/Time moved here -->
            <p id="success-checkin-datetime" class="text-blue-600 font-medium mb-6 text-xs">--/--/---- --:--</p>
            
            <!-- Agenda Box -->
            <div class="bg-blue-50 border border-blue-100 rounded-xl p-5 mb-6 text-left shadow-sm">
                <h3 class="font-bold text-blue-900 mb-3 text-lg flex items-center gap-2 border-b border-blue-200 pb-2">
                    <i data-lucide="calendar-days" width="20"></i> กำหนดการประชุมสมาชิกฯ
                </h3>
                <ol class="list-decimal pl-5 space-y-2 text-sm text-gray-700">
                    <li>เรื่องแจ้งสมาชิก</li>
                    <li>รายงานผลประกอบการ</li>
                    <li>ประกาศผลการเลือกตั้งประธานฯ</li>
                    <li>ประกาศผลการเลือกตั้งกรรมการฯ</li>
                    <li>ลุ้นรางวัลพิเศษ 50 รางว้ล</li>
                </ol>
            </div>
            
            <button onclick="window.app.resetForm()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-semibold hover:bg-blue-700 transition shadow-lg shadow-blue-200">
                กลับสู่หน้าหลัก
            </button>
        </div>

        <!-- Error Screen (Device Limit) -->
        <div id="screen-error-device" class="hidden bg-white rounded-2xl shadow-xl p-8 max-w-sm w-full text-center animate-fade-in mx-auto relative z-20">
            <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="alert-triangle" class="text-red-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-red-700 mb-2">ไม่สามารถดำเนินการได้</h2>
            <p id="error-msg-text" class="text-gray-600 mb-6 text-sm">
                คุณไม่สามารถลงทะเบียนใหม่ได้อีก <br/>
                (เครื่องนี้ถูกใช้งานไปแล้ว)
            </p>
            <button onclick="window.location.reload()" class="w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-300 transition">
                ปิด
            </button>
        </div>

        <!-- Not Found Screen -->
        <div id="screen-not-found" class="hidden bg-white rounded-2xl shadow-xl p-8 max-w-sm w-full text-center animate-fade-in mx-auto relative z-20">
            <div class="w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="user-x" class="text-amber-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-amber-700 mb-2">ไม่มีข้อมูลในระบบ</h2>
            <p class="text-gray-600 mb-6 text-sm">
                ไม่พบเลขบัตรประชาชนนี้ในฐานข้อมูล <br/>
                กรุณาตรวจสอบความถูกต้อง
            </p>
            <button onclick="window.app.resetForm()" class="w-full bg-amber-500 text-white py-3 rounded-xl font-semibold hover:bg-amber-600 transition shadow-lg shadow-amber-200">
                ปิด
            </button>
        </div>

        <!-- Footer -->
        <p class="text-center text-gray-400 text-xs mt-8">
            ระบบลงทะเบียนสมาชิกสหกรณ์ <br/>
            © 2024 สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด
        </p>
    </main>

    <!-- Firebase and Application Logic -->
    <script type="module">
const _0x47c038=_0x24b5;(function(_0x2a4f26,_0xca1a58){const _0x24ff02=_0x24b5,_0x56e63c=_0x2a4f26();while(!![]){try{const _0x4b34fb=parseInt(_0x24ff02(0x16b))/0x1+-parseInt(_0x24ff02(0x19c))/0x2*(parseInt(_0x24ff02(0x184))/0x3)+-parseInt(_0x24ff02(0x1aa))/0x4*(-parseInt(_0x24ff02(0x1a6))/0x5)+-parseInt(_0x24ff02(0x183))/0x6*(parseInt(_0x24ff02(0x18c))/0x7)+parseInt(_0x24ff02(0x1be))/0x8*(-parseInt(_0x24ff02(0x1bf))/0x9)+-parseInt(_0x24ff02(0x1c2))/0xa+-parseInt(_0x24ff02(0x192))/0xb*(-parseInt(_0x24ff02(0x16d))/0xc);if(_0x4b34fb===_0xca1a58)break;else _0x56e63c['push'](_0x56e63c['shift']());}catch(_0x1ed9aa){_0x56e63c['push'](_0x56e63c['shift']());}}}(_0x488f,0xb123f));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js';import{getFirestore,collection,addDoc,updateDoc,doc,serverTimestamp,query,where,getDocs}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';const TARGET_COLLECTION_NAME=_0x47c038(0x16c),isSandboxEnv=typeof __firebase_config!==_0x47c038(0x16a);function _0x488f(){const _0x2adc51=['user','screen-error-device','citizenId','ttb-register','substr','G-9DJLWJ5LQ1','bg-blue-600','padStart','8EdRmvo','10457361TaxNxa','1070273157855','hidden','4870150PXWjQF','createIcons','target','disabled','error-msg-text','docs','text-gray-400','toLocaleDateString','toLocaleTimeString','deviceId','shadow-none','th-TH','bg-white','กำลังตรวจสอบ...','undefined','1000958NkuVAl','tmb_coop','84QlEHSB','remove','ตรวจสอบ\x20/\x20ลงทะเบียน','CheckIN','screen-form','preventDefault','replace','classList','screen-success','border-gray-200','bg-gray-200','digest','error','log','empty','shadow-blue-200','1:1070273157855:web:5c8120e1df27e233d8676a','parse','forEach','innerText','status','text-white','774DBHmri','21705ZOLAbd','ttb-register.firebasestorage.app','Submit\x20Error:','idCard','cursor-not-allowed','btn-loader','border-blue-500','toString','30905AadXkg','join','map','getItem','btn-submit','toDate','3755037FLVRDg','data','https://ttb-register-default-rtdb.asia-southeast1.firebasedate.app','add','focus','value','hover:bg-blue-700','btn-text','icon-check-valid','เครื่องนี้ถูกผูกบัญชีอื่นแล้ว\x20(ไม่สามารถลงทะเบียนใหม่ได้)','158BMexMJ','app','Auth\x20failed','encode','SHA-256','Checking\x20ID\x20Hash:','ลงทะเบียนเมื่อ:\x20','bg-blue-50/30','subtle','length','625420OqgNQt','success-checkin-datetime','coop_device_identifier','registration-form','4SDbtvX','addEventListener','getElementById','now','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','slice','lucide','load','Checking\x20Device:','default-app-id','checked-in','CheckOUT'];_0x488f=function(){return _0x2adc51;};return _0x488f();}let firebaseConfig,finalCollectionPath;if(isSandboxEnv){firebaseConfig=JSON[_0x47c038(0x17e)](__firebase_config);const appId=typeof __app_id!==_0x47c038(0x16a)?__app_id:_0x47c038(0x1b3);finalCollectionPath='artifacts/'+appId+'/public/data/coop_registrations';}else firebaseConfig={'apiKey':_0x47c038(0x1ae),'authDomain':'ttb-register.firebaseapp.com','databaseURL':_0x47c038(0x194),'projectId':_0x47c038(0x1b9),'storageBucket':_0x47c038(0x185),'messagingSenderId':_0x47c038(0x1c0),'appId':_0x47c038(0x17d),'measurementId':_0x47c038(0x1bb)},finalCollectionPath=TARGET_COLLECTION_NAME;const state={'user':null,'idCard':''},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);async function sha256(_0x427e8e){const _0x28a83a=_0x47c038,_0x4b341e=new TextEncoder()[_0x28a83a(0x19f)](_0x427e8e),_0x49dc8d=await crypto[_0x28a83a(0x1a4)][_0x28a83a(0x178)](_0x28a83a(0x1a0),_0x4b341e),_0x408453=Array['from'](new Uint8Array(_0x49dc8d)),_0x135fee=_0x408453[_0x28a83a(0x18e)](_0x482a1c=>_0x482a1c[_0x28a83a(0x18b)](0x10)[_0x28a83a(0x1bd)](0x2,'0'))[_0x28a83a(0x18d)]('');return _0x135fee;}function getDeviceId(){const _0x3d6238=_0x47c038,_0x382a43=_0x3d6238(0x1a8);let _0x41332a=localStorage[_0x3d6238(0x18f)](_0x382a43);return!_0x41332a&&(_0x41332a='DEV-'+Date[_0x3d6238(0x1ad)]()[_0x3d6238(0x18b)](0x24)+Math['random']()['toString'](0x24)[_0x3d6238(0x1ba)](0x2,0x9),localStorage['setItem'](_0x382a43,_0x41332a)),_0x41332a;}window[_0x47c038(0x19d)]={'resetForm':()=>{const _0x283bdc=_0x47c038,_0x207f25=['screen-success','screen-error-device','screen-not-found'];_0x207f25[_0x283bdc(0x17f)](_0x5b2543=>document[_0x283bdc(0x1ac)](_0x5b2543)[_0x283bdc(0x174)][_0x283bdc(0x195)]('hidden')),document[_0x283bdc(0x1ac)](_0x283bdc(0x171))[_0x283bdc(0x174)][_0x283bdc(0x16e)](_0x283bdc(0x1c1));const _0xc3403d=document[_0x283bdc(0x1ac)](_0x283bdc(0x187));_0xc3403d['value']='',state[_0x283bdc(0x187)]='';const _0x272b13=document[_0x283bdc(0x1ac)](_0x283bdc(0x190)),_0x7b4db8=document[_0x283bdc(0x1ac)](_0x283bdc(0x199)),_0x1b2684=document['getElementById']('btn-loader');_0x7b4db8[_0x283bdc(0x180)]=_0x283bdc(0x16f),_0x1b2684['classList'][_0x283bdc(0x195)](_0x283bdc(0x1c1)),_0x272b13[_0x283bdc(0x1c5)]=!![],_0x272b13[_0x283bdc(0x174)]['add']('bg-gray-200',_0x283bdc(0x162),_0x283bdc(0x188),_0x283bdc(0x166)),_0x272b13['classList'][_0x283bdc(0x16e)]('bg-blue-600',_0x283bdc(0x182),_0x283bdc(0x198),_0x283bdc(0x17c));const _0x12b603=document['getElementById'](_0x283bdc(0x19a));_0x12b603[_0x283bdc(0x174)][_0x283bdc(0x195)]('hidden'),_0xc3403d[_0x283bdc(0x174)][_0x283bdc(0x16e)](_0x283bdc(0x18a),_0x283bdc(0x1a3)),_0xc3403d[_0x283bdc(0x174)][_0x283bdc(0x195)]('border-gray-200',_0x283bdc(0x168)),_0xc3403d[_0x283bdc(0x196)]();}};async function initAuth(){const _0x1fb6e5=_0x47c038;try{typeof __initial_auth_token!==_0x1fb6e5(0x16a)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xafdd31){console[_0x1fb6e5(0x179)](_0x1fb6e5(0x19e),_0xafdd31);}}onAuthStateChanged(auth,_0x815316=>{state['user']=_0x815316;});function handleIdInput(_0x1ce737){const _0x310600=_0x47c038;let _0xb37f1c=_0x1ce737[_0x310600(0x1c4)]['value'][_0x310600(0x173)](/[^0-9]/g,'');if(_0xb37f1c[_0x310600(0x1a5)]>0xd)_0xb37f1c=_0xb37f1c[_0x310600(0x1af)](0x0,0xd);let _0x462a90=_0xb37f1c;if(_0xb37f1c['length']>0x1)_0x462a90=_0xb37f1c[_0x310600(0x1af)](0x0,0x1)+'-'+_0xb37f1c[_0x310600(0x1af)](0x1);if(_0xb37f1c[_0x310600(0x1a5)]>0x5)_0x462a90=_0x462a90['slice'](0x0,0x6)+'-'+_0x462a90['slice'](0x6);if(_0xb37f1c[_0x310600(0x1a5)]>0xa)_0x462a90=_0x462a90[_0x310600(0x1af)](0x0,0xc)+'-'+_0x462a90[_0x310600(0x1af)](0xc);if(_0xb37f1c[_0x310600(0x1a5)]>0xc)_0x462a90=_0x462a90[_0x310600(0x1af)](0x0,0xf)+'-'+_0x462a90['slice'](0xf);state['idCard']=_0x462a90,document[_0x310600(0x1ac)](_0x310600(0x187))[_0x310600(0x197)]=_0x462a90;const _0x1eca3a=document['getElementById']('icon-check-valid'),_0x150d5d=document[_0x310600(0x1ac)](_0x310600(0x187));_0xb37f1c[_0x310600(0x1a5)]===0xd?(_0x150d5d[_0x310600(0x174)][_0x310600(0x195)](_0x310600(0x18a),_0x310600(0x1a3)),_0x150d5d[_0x310600(0x174)][_0x310600(0x16e)](_0x310600(0x176),'bg-white'),_0x1eca3a[_0x310600(0x174)][_0x310600(0x16e)](_0x310600(0x1c1))):(_0x150d5d[_0x310600(0x174)][_0x310600(0x16e)](_0x310600(0x18a),'bg-blue-50/30'),_0x150d5d[_0x310600(0x174)][_0x310600(0x195)](_0x310600(0x176),_0x310600(0x168)),_0x1eca3a['classList']['add'](_0x310600(0x1c1))),validateForm();}function validateForm(){const _0x2e9292=_0x47c038,_0x3498b5=state[_0x2e9292(0x187)][_0x2e9292(0x173)](/-/g,''),_0x2f585e=_0x3498b5[_0x2e9292(0x1a5)]===0xd,_0x3c809f=document[_0x2e9292(0x1ac)](_0x2e9292(0x190));_0x2f585e?(_0x3c809f['disabled']=![],_0x3c809f['classList']['remove'](_0x2e9292(0x177),'text-gray-400','cursor-not-allowed',_0x2e9292(0x166)),_0x3c809f[_0x2e9292(0x174)][_0x2e9292(0x195)](_0x2e9292(0x1bc),_0x2e9292(0x182),_0x2e9292(0x198),_0x2e9292(0x17c))):(_0x3c809f[_0x2e9292(0x1c5)]=!![],_0x3c809f['classList'][_0x2e9292(0x195)](_0x2e9292(0x177),_0x2e9292(0x162),_0x2e9292(0x188),'shadow-none'),_0x3c809f[_0x2e9292(0x174)][_0x2e9292(0x16e)](_0x2e9292(0x1bc),_0x2e9292(0x182),_0x2e9292(0x198),'shadow-blue-200'));}async function submitForm(_0x414079){const _0x1ba8df=_0x47c038;_0x414079[_0x1ba8df(0x172)]();if(!state[_0x1ba8df(0x1b6)])return;const _0x70ee24=document[_0x1ba8df(0x1ac)]('btn-submit'),_0x28d007=document['getElementById']('btn-text'),_0x14944a=document['getElementById'](_0x1ba8df(0x189));_0x70ee24[_0x1ba8df(0x1c5)]=!![],_0x28d007['innerText']=_0x1ba8df(0x169),_0x14944a[_0x1ba8df(0x174)][_0x1ba8df(0x16e)](_0x1ba8df(0x1c1));try{const _0x5cc98e=getDeviceId(),_0x14fcbd=state[_0x1ba8df(0x187)]['replace'](/-/g,''),_0x67ffe2=await sha256(_0x14fcbd);console[_0x1ba8df(0x17a)](_0x1ba8df(0x1b2),_0x5cc98e),console[_0x1ba8df(0x17a)](_0x1ba8df(0x1a1),_0x67ffe2);const _0x3c51d5=query(collection(db,finalCollectionPath),where(_0x1ba8df(0x1b8),'==',_0x67ffe2)),_0x309340=await getDocs(_0x3c51d5);if(!_0x309340[_0x1ba8df(0x17b)]){const _0x22937e=_0x309340[_0x1ba8df(0x1c7)][0x0],_0x3df586=_0x22937e[_0x1ba8df(0x193)](),_0x4cb011={};let _0x2c4967=![];_0x3df586[_0x1ba8df(0x165)]!==_0x5cc98e&&(_0x4cb011[_0x1ba8df(0x165)]=_0x5cc98e,_0x2c4967=!![]);let _0x206675='';const _0x34f18f=!_0x3df586['CheckIN'];if(_0x34f18f){_0x4cb011[_0x1ba8df(0x170)]=serverTimestamp(),_0x2c4967=!![];const _0x35977e=new Date();_0x206675=_0x35977e[_0x1ba8df(0x163)]('th-TH')+'\x20'+_0x35977e[_0x1ba8df(0x164)]('th-TH');}else{const _0x4a7e5a=_0x3df586[_0x1ba8df(0x170)][_0x1ba8df(0x191)]?_0x3df586[_0x1ba8df(0x170)][_0x1ba8df(0x191)]():new Date(_0x3df586[_0x1ba8df(0x170)]);_0x206675=_0x4a7e5a[_0x1ba8df(0x163)](_0x1ba8df(0x167))+'\x20'+_0x4a7e5a['toLocaleTimeString'](_0x1ba8df(0x167));}const _0x718fc6=!_0x34f18f||_0x4cb011[_0x1ba8df(0x170)],_0x3e7742=_0x3df586[_0x1ba8df(0x1b5)];if(_0x718fc6&&_0x3e7742)_0x4cb011[_0x1ba8df(0x181)]='ลงทะเบียนสำเร็จ',_0x2c4967=!![];else _0x718fc6&&!_0x3e7742&&(_0x34f18f&&(_0x4cb011[_0x1ba8df(0x181)]=_0x1ba8df(0x1b4),_0x2c4967=!![]));_0x2c4967&&await updateDoc(doc(db,finalCollectionPath,_0x22937e['id']),_0x4cb011),document[_0x1ba8df(0x1ac)](_0x1ba8df(0x1a7))[_0x1ba8df(0x180)]=_0x1ba8df(0x1a2)+_0x206675,document[_0x1ba8df(0x1ac)](_0x1ba8df(0x171))[_0x1ba8df(0x174)]['add'](_0x1ba8df(0x1c1)),document[_0x1ba8df(0x1ac)]('screen-success')[_0x1ba8df(0x174)][_0x1ba8df(0x16e)]('hidden');}else{const _0x579829=query(collection(db,finalCollectionPath),where('deviceId','==',_0x5cc98e)),_0x2ba59d=await getDocs(_0x579829);if(!_0x2ba59d[_0x1ba8df(0x17b)])document[_0x1ba8df(0x1ac)](_0x1ba8df(0x1c6))[_0x1ba8df(0x180)]=_0x1ba8df(0x19b),document[_0x1ba8df(0x1ac)](_0x1ba8df(0x171))[_0x1ba8df(0x174)][_0x1ba8df(0x195)](_0x1ba8df(0x1c1)),document['getElementById'](_0x1ba8df(0x1b7))[_0x1ba8df(0x174)][_0x1ba8df(0x16e)](_0x1ba8df(0x1c1));else{await addDoc(collection(db,finalCollectionPath),{'citizenId':_0x67ffe2,'deviceId':_0x5cc98e,'CheckIN':serverTimestamp(),'status':_0x1ba8df(0x1b4)});const _0x497b42=new Date(),_0x387d22=_0x497b42['toLocaleDateString'](_0x1ba8df(0x167))+'\x20'+_0x497b42[_0x1ba8df(0x164)]('th-TH');document[_0x1ba8df(0x1ac)](_0x1ba8df(0x1a7))[_0x1ba8df(0x180)]=_0x1ba8df(0x1a2)+_0x387d22,document['getElementById'](_0x1ba8df(0x171))['classList'][_0x1ba8df(0x195)](_0x1ba8df(0x1c1)),document[_0x1ba8df(0x1ac)](_0x1ba8df(0x175))['classList'][_0x1ba8df(0x16e)]('hidden');}}}catch(_0x178204){console[_0x1ba8df(0x179)](_0x1ba8df(0x186),_0x178204),alert('เกิดข้อผิดพลาด:\x20'+_0x178204['message']);}finally{_0x70ee24['disabled']=![],_0x28d007[_0x1ba8df(0x180)]=_0x1ba8df(0x16f),_0x14944a[_0x1ba8df(0x174)][_0x1ba8df(0x195)](_0x1ba8df(0x1c1)),validateForm();}}document[_0x47c038(0x1ac)](_0x47c038(0x1a9))['addEventListener']('submit',submitForm),document['getElementById'](_0x47c038(0x187))[_0x47c038(0x1ab)]('input',handleIdInput),window['addEventListener'](_0x47c038(0x1b1),()=>{const _0x53eb6b=_0x47c038;document[_0x53eb6b(0x1ac)](_0x53eb6b(0x187))[_0x53eb6b(0x196)]();}),initAuth();function _0x24b5(_0x234f14,_0x211cf9){_0x234f14=_0x234f14-0x162;const _0x488f6a=_0x488f();let _0x24b547=_0x488f6a[_0x234f14];return _0x24b547;}if(window[_0x47c038(0x1b0)])lucide[_0x47c038(0x1c3)]();

    </script>
</body>
</html>