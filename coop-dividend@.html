<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Font (Sarabun) -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Sarabun', sans-serif; }
        .hidden { display: none !important; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        
        .content-indent { text-indent: 3rem; }
        .report-card { @apply bg-white rounded-2xl shadow-xl overflow-hidden animate-fade-in relative z-20 w-full max-w-lg mx-auto border border-slate-100; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen pb-10">

    <!-- Header Section -->
    <div class="bg-gradient-to-r from-blue-700 to-indigo-800 text-white p-6 rounded-b-[2.5rem] shadow-lg mb-8 relative overflow-hidden" style="height: 180px;">
        <div class="absolute top-0 right-0 opacity-10 transform translate-x-10 -translate-y-10">
            <i data-lucide="calculator" width="150" height="150"></i>
        </div>
        
        <div class="relative z-10 flex flex-col items-center">
            <div class="bg-white/20 p-3 rounded-full mb-3 backdrop-blur-sm">
                <i data-lucide="file-text" width="32" height="32" class="text-white"></i>
            </div>
            <h1 class="text-xl font-bold text-center">รายงานเงินปันผลประจำปี 2025</h1>
            <p class="text-blue-100 text-sm mt-1 text-center font-light text-balance">สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</p>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="px-2 sm:px-4 max-w-lg mx-auto -mt-10">
        
        <!-- Search Form Screen -->
        <div id="screen-form" class="bg-white rounded-2xl shadow-xl p-6 border border-slate-100 relative z-20">
            <form id="registration-form" class="space-y-6 pt-2">
                <div class="text-center">
                    <div>
                        <label for="idCard" class="block text-sm font-semibold text-gray-700 mb-2">
                            เลขบัตรประจำตัวประชาชน
                        </label>
                        <div class="relative">
                            <input
                                type="text"
                                id="idCard"
                                placeholder="x-xxxx-xxxxx-xx-x"
                                class="w-full text-xl font-mono tracking-wide p-4 rounded-xl border-2 border-gray-200 bg-white focus:border-blue-400 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-center"
                                inputmode="numeric"
                                maxlength="17"
                                autocomplete="off"
                            />
                            <i id="icon-check-valid" data-lucide="check-circle" class="hidden absolute right-4 top-1/2 transform -translate-y-1/2 text-green-500 w-6 h-6 animate-fade-in"></i>
                        </div>
                        <div class="flex justify-between items-center mt-2 px-1">
                            <p id="id-helper-text" class="text-xs text-gray-400 font-medium">กรุณากรอกตัวเลขให้ครบ 13 หลัก</p>
                            <div class="flex items-center gap-2">
                                <span class="text-[10px] text-gray-400 uppercase font-bold">จำนวน:</span>
                                <p id="id-counter" class="text-[10px] font-mono text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full">0 / 13</p>
                            </div>
                        </div>
                    </div>

                    <div class="p-4 bg-blue-50 text-blue-800 rounded-xl text-xs flex gap-3 items-start mt-6 text-left border border-blue-100 leading-relaxed">
                        <i data-lucide="info" class="w-5 h-5 shrink-0 text-blue-600"></i>
                        <span>ระบบตรวจสอบรายงานเงินปันผลประจำปี 2568 สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด</span>
                    </div>
                </div>

                <button
                    type="submit"
                    id="btn-submit"
                    disabled
                    class="w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2 bg-gray-200 text-gray-400 cursor-not-allowed shadow-none"
                >
                    <span id="btn-text">ตรวจสอบข้อมูล</span>
                    <i id="btn-loader" data-lucide="loader-2" class="hidden animate-spin"></i>
                </button>
            </form>
        </div>

        <!-- Result Screen (Consolidated View) -->
        <div id="screen-success" class="hidden report-card">
            
            <div class="p-6 space-y-4 text-sm text-gray-800 leading-relaxed overflow-y-auto max-h-[80vh]">
                <p style="margin-top:25px;">เรียน <span id="res-name-1" class="font-bold underline text-blue-700"></span></p>
                <p class="font-bold text-gray-900 underline decoration-blue-200 text-base">เรื่อง ขอเชิญประชุมใหญ่สามัญประจำปี 2568</p>
                
                <div class="p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-3">
                    <p class="content-indent">
                        ด้วยสหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด ได้กำหนดให้มีการจัดประชุมใหญ่สามัญ ประจำปี 2568 ใน<b>วันพฤหัสบดีที่ 12 กุมภาพันธ์ 2569</b> ณ ห้องประชุมออดิทอเรียม ชั้น 7 ธนาคารทหารไทยธนชาต (สำนักพหลโยธิน) เลขที่ 3000 ถนนพหลโยธิน แขวงจอมพล เขตจตุจักร กรุงเทพมหานคร 
                    </p>
                    <p class="content-indent">
                        โดยให้สมาชิกลงทะเบียนเข้าร่วมประชุมตั้งแต่ เวลา 11.00 น. และเริ่มการประชุมเวลา 11.30 น. เพื่อรับทราบผลการดำเนินงานของสหกรณ์และพิจารณาอนุมัติเรื่องต่าง ๆ โดยขอให้สมาชิกเตรียมบัตรประชาชนหรือสำเนาบัตรมาด้วย สำหรับใช้ลงทะเบียนเข้าร่วมประชุม
                    </p>
                </div>
                
                <ul class="list-disc ml-8 space-y-1 font-medium text-slate-700 italic">
                    <li>ภายในงานจะมีการจับสลากเป็นเงินสด 50 รางวัล ๆ ละ 500 บาท</li>
                    <li>ในวันดังกล่าว สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด จะปิดทำการและงดทำธุรกรรมทุกประเภทเพื่อจัดการประชุมใหญ่สามัญประจำปี 2568</li>
                </ul>

                <p class="content-indent">
                    พร้อมนี้สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด จะประกาศจ่ายเงินปันผล ประจำปี 2568 ในอัตราร้อยละ 4.75 เงินเฉลี่ยคืนดอกเบี้ยเงินกู้อัตราร้อยละ 10.00 และเงินค่าสมนาคุณ 120 บาท ซึ่งสหกรณ์จะโอนเงินดังกล่าว หลังจากได้รับอนุมัติจากที่ประชุมใหญ่แล้ว ในวันที่ <b>12 กุมภาพันธ์ 2569</b>
                </p>

                <!-- Dividend Information Box (กรอบข้อความแสดงผลเงินปันผล) -->
                <div class="bg-blue-50 p-5 rounded-2xl border border-blue-200 mt-6 shadow-sm">
                    <p class="font-bold text-blue-900 mb-2">โดย <span id="res-name-2" class="underline decoration-blue-400"></span> เลขที่สมาชิก <span id="res-member-id" class="font-mono italic"></span> จะได้รับเงิน ดังนี้</p>
                    
                    <div class="space-y-3 border-t border-blue-200 pt-4 mt-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">เงินปันผล:</span>
                            <div class="text-right font-bold text-blue-700 text-base"><span id="res-dividend">0.00</span> บาท</div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">เงินเฉลี่ยคืน:</span>
                            <div class="text-right font-bold text-blue-700 text-base"><span id="res-moneyback">0.00</span> บาท</div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">เงินค่าสมนาคุณ:</span>
                            <div class="text-right font-bold text-blue-700 text-base"><span id="res-gratuity">0.00</span> บาท</div>
                        </div>
                        <div class="flex justify-between items-center border-t border-blue-300 pt-3 mt-1">
                            <span class="text-blue-900 font-bold text-base">รวมสุทธิทั้งหมด:</span>
                            <div class="text-right font-bold text-blue-900 text-base"><span id="res-total">0.00</span> บาท</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="p-6 bg-gray-50 border-t border-gray-100">
                <button onclick="window.app.resetForm()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-semibold hover:bg-slate-900 transition shadow-lg flex items-center justify-center gap-2">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i> กลับสู่หน้าลงทะเบียน
                </button>
            </div>
        </div>

        <!-- Not Found / Error Screens -->
        <div id="screen-not-found" class="hidden bg-white rounded-2xl shadow-xl p-8 max-w-lg w-full text-center animate-fade-in relative z-20 mx-auto border border-slate-100">
            <div class="w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="user-x" class="text-amber-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-amber-700 mb-2">ไม่พบข้อมูลสมาชิก</h2>
            <p class="text-gray-600 mb-6 text-sm leading-relaxed">
                ไม่พบเลขบัตรประชาชนนี้ในฐานข้อมูลประจำปี 2568 <br/>
                กรุณาตรวจสอบความถูกต้อง หรือติดต่อเจ้าหน้าที่สหกรณ์
            </p>
            <button onclick="window.app.resetForm()" class="w-full bg-amber-500 text-white py-3 rounded-xl font-semibold hover:bg-amber-600 transition shadow-lg shadow-amber-200">
                ตกลง
            </button>
        </div>

        <div id="screen-error" class="hidden bg-white rounded-2xl shadow-xl p-8 max-w-lg w-full text-center animate-fade-in relative z-20 mx-auto border border-slate-100">
            <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="alert-triangle" class="text-red-600 w-10 h-10"></i>
            </div>
            <h2 class="text-xl font-bold text-red-700 mb-2 text-center">เกิดข้อผิดพลาด</h2>
            <p id="error-message" class="text-gray-600 mb-6 text-sm text-center font-medium">การเชื่อมต่อล้มเหลว กรุณาลองใหม่อีกครั้ง</p>
            <button onclick="window.app.resetForm()" class="w-full bg-slate-200 text-slate-700 py-3 rounded-xl font-semibold hover:bg-slate-300 transition">
                กลับไปหน้าหลัก
            </button>
        </div>

        <!-- Footer -->
        <p class="text-center text-gray-400 text-[10px] mt-8 uppercase tracking-widest leading-relaxed">
            COOP DIVIDEND SYSTEM 2568 <br/>
            © สหกรณ์ออมทรัพย์พนักงานธนาคารทหารไทย จำกัด
        </p>
    </main>

    <!-- Firebase and Application Logic -->
    <script type="module">
const _0x422230=_0x523c;(function(_0x562b03,_0x2310fe){const _0x3b167d=_0x523c,_0x26a483=_0x562b03();while(!![]){try{const _0x7c63cc=parseInt(_0x3b167d(0xa9))/0x1+-parseInt(_0x3b167d(0x76))/0x2+parseInt(_0x3b167d(0x82))/0x3+-parseInt(_0x3b167d(0x75))/0x4*(-parseInt(_0x3b167d(0xa4))/0x5)+parseInt(_0x3b167d(0x79))/0x6+-parseInt(_0x3b167d(0xc9))/0x7*(parseInt(_0x3b167d(0x7b))/0x8)+parseInt(_0x3b167d(0xb6))/0x9*(-parseInt(_0x3b167d(0xb3))/0xa);if(_0x7c63cc===_0x2310fe)break;else _0x26a483['push'](_0x26a483['shift']());}catch(_0x6c381d){_0x26a483['push'](_0x26a483['shift']());}}}(_0x350a,0xdc21d));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,collection,updateDoc,doc,serverTimestamp,query,where,getDocs}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const TARGET_COLLECTION_NAME=_0x422230(0x8e),isSandboxEnv=typeof __firebase_config!==_0x422230(0xad);let firebaseConfig,finalCollectionPath;if(isSandboxEnv){firebaseConfig=JSON[_0x422230(0x8f)](__firebase_config);const appId=typeof __app_id!==_0x422230(0xad)?__app_id:'default-app-id';finalCollectionPath='/artifacts/'+appId+_0x422230(0xb5)+TARGET_COLLECTION_NAME;}else firebaseConfig={'apiKey':_0x422230(0x87),'authDomain':_0x422230(0xb8),'databaseURL':_0x422230(0xb1),'projectId':'ttb-register','storageBucket':'ttb-register.firebasestorage.app','messagingSenderId':_0x422230(0xa0),'appId':'1:1070273157855:web:5c8120e1df27e233d8676a'},finalCollectionPath=TARGET_COLLECTION_NAME;const state={'user':null,'idCard':'','currentMember':null},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);async function sha256(_0x4b5f76){const _0x3bf26b=_0x422230;try{const _0x303533=new TextEncoder()[_0x3bf26b(0xbb)](_0x4b5f76),_0x5cd075=await crypto[_0x3bf26b(0xbf)][_0x3bf26b(0xbc)](_0x3bf26b(0x9f),_0x303533);return Array[_0x3bf26b(0xaa)](new Uint8Array(_0x5cd075))[_0x3bf26b(0x80)](_0x2520e7=>_0x2520e7['toString'](0x10)[_0x3bf26b(0xb0)](0x2,'0'))['join']('');}catch(_0x39c01c){return console[_0x3bf26b(0xc1)](_0x3bf26b(0x88),_0x39c01c),null;}}function _0x523c(_0x171fe4,_0x5b8faf){_0x171fe4=_0x171fe4-0x75;const _0x350a6e=_0x350a();let _0x523c73=_0x350a6e[_0x171fe4];return _0x523c73;}const formatMoney=_0x3fbee2=>{const _0x4d0692=_0x422230,_0x36346f=Number(_0x3fbee2||0x0);return _0x36346f[_0x4d0692(0xa8)](_0x4d0692(0x7d),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2});};function _0x350a(){const _0x239f1a=['length','/public/data/','98199gwAnSK','disabled','ttb-register.firebaseapp.com','hidden','screen-error','encode','digest','text-[10px]\x20font-mono\x20text-gray-400\x20bg-gray-100\x20px-2\x20py-0.5\x20rounded-full','innerText','subtle','docs','error','netpayment','getElementById','createIcons','user','idCard','add','className','322geATeU','screen-success','error-message','2932YsbHoB','3536306aIGGVG','moneyback','btn-text','10564218BJTIYG','\x20/\x2013','300136SizDjK','citizenId','en-US','btn-loader','เกิดข้อผิดพลาด:\x20','map','load','4561395sNVZiq','memberId','0\x20/\x2013','id-counter','gratuity','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','Hash\x20error:','screen-not-found','classList','res-name-1','icon-check-valid','w-full\x20py-4\x20rounded-xl\x20font-bold\x20text-lg\x20shadow-lg\x20transition-all\x20transform\x20active:scale-95\x20flex\x20items-center\x20justify-center\x20gap-2\x20bg-blue-600\x20text-white\x20shadow-blue-200\x20hover:bg-blue-700','tmb_coop_dividend','parse','registration-form','empname','app','remove','addEventListener','replace','dividend','border-blue-500','submit','res-name-2','bg-blue-50/30','substring','currentMember','res-dividend','message','SHA-256','1070273157855','slice','target','Submission\x20error:','2555OzfFUz','res-total','lucide','focus','toLocaleString','1656389YpZimp','from','Auth\x20init\x20failed','w-full\x20py-4\x20rounded-xl\x20font-bold\x20text-lg\x20transition-all\x20flex\x20items-center\x20justify-center\x20gap-2\x20bg-gray-200\x20text-gray-400\x20cursor-not-allowed\x20shadow-none','undefined','btn-submit','screen-form','padStart','https://ttb-register-default-rtdb.asia-southeast1.firebasedate.app','res-gratuity','840qbhddE'];_0x350a=function(){return _0x239f1a;};return _0x350a();}window[_0x422230(0x92)]={'resetForm':()=>{const _0x3dfabb=_0x422230,_0x5d9909=['screen-success','screen-not-found','screen-error','screen-form'];_0x5d9909['forEach'](_0x4da4b3=>document['getElementById'](_0x4da4b3)[_0x3dfabb(0x8a)][_0x3dfabb(0xc7)](_0x3dfabb(0xb9))),document['getElementById']('screen-form')['classList'][_0x3dfabb(0x93)](_0x3dfabb(0xb9)),document[_0x3dfabb(0xc3)](_0x3dfabb(0xc6))['value']='',state[_0x3dfabb(0xc6)]='',state[_0x3dfabb(0x9c)]=null;const _0xa4fb6f=document[_0x3dfabb(0xc3)](_0x3dfabb(0xae));_0xa4fb6f[_0x3dfabb(0xb7)]=!![],_0xa4fb6f['className']=_0x3dfabb(0xac),document[_0x3dfabb(0xc3)](_0x3dfabb(0x8c))['classList']['add']('hidden'),document[_0x3dfabb(0xc3)](_0x3dfabb(0xc6))[_0x3dfabb(0x8a)][_0x3dfabb(0x93)](_0x3dfabb(0x97),_0x3dfabb(0x9a)),document[_0x3dfabb(0xc3)]('id-counter')[_0x3dfabb(0xbe)]=_0x3dfabb(0x84),document['getElementById'](_0x3dfabb(0x85))[_0x3dfabb(0xc8)]=_0x3dfabb(0xbd),document[_0x3dfabb(0xc3)](_0x3dfabb(0xc6))['focus']();}};function populateMemberData(_0x1acaf0){const _0x342d76=_0x422230,_0x1ee533=_0x1acaf0[_0x342d76(0x91)]||_0x1acaf0['EmpName']||'สมาชิก';document[_0x342d76(0xc3)](_0x342d76(0x8b))['innerText']=_0x1ee533,document[_0x342d76(0xc3)](_0x342d76(0x99))[_0x342d76(0xbe)]=_0x1ee533,document[_0x342d76(0xc3)]('res-member-id')[_0x342d76(0xbe)]=_0x1acaf0[_0x342d76(0x83)]||'-',document[_0x342d76(0xc3)](_0x342d76(0x9d))[_0x342d76(0xbe)]=formatMoney(_0x1acaf0[_0x342d76(0x96)]),document['getElementById']('res-moneyback')[_0x342d76(0xbe)]=formatMoney(_0x1acaf0[_0x342d76(0x77)]),document[_0x342d76(0xc3)](_0x342d76(0xb2))[_0x342d76(0xbe)]=formatMoney(_0x1acaf0[_0x342d76(0x86)]),document[_0x342d76(0xc3)](_0x342d76(0xa5))[_0x342d76(0xbe)]=formatMoney(_0x1acaf0[_0x342d76(0xc2)]);}async function initAuth(){const _0x4114e1=_0x422230;try{typeof __initial_auth_token!==_0x4114e1(0xad)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4e7294){console[_0x4114e1(0xc1)](_0x4114e1(0xab),_0x4e7294);}}onAuthStateChanged(auth,_0x27da91=>{const _0x4d55df=_0x422230;state[_0x4d55df(0xc5)]=_0x27da91;});function handleIdInput(_0x2073ff){const _0x37e334=_0x422230;let _0xc6c549=_0x2073ff[_0x37e334(0xa2)]['value'][_0x37e334(0x95)](/[^0-9]/g,'');if(_0xc6c549[_0x37e334(0xb4)]>0xd)_0xc6c549=_0xc6c549[_0x37e334(0xa1)](0x0,0xd);let _0x4d6be4='';_0xc6c549[_0x37e334(0xb4)]>0x0&&(_0x4d6be4+=_0xc6c549[_0x37e334(0x9b)](0x0,0x1),_0xc6c549['length']>0x1&&(_0x4d6be4+='-'+_0xc6c549[_0x37e334(0x9b)](0x1,0x5),_0xc6c549[_0x37e334(0xb4)]>0x5&&(_0x4d6be4+='-'+_0xc6c549[_0x37e334(0x9b)](0x5,0xa),_0xc6c549[_0x37e334(0xb4)]>0xa&&(_0x4d6be4+='-'+_0xc6c549[_0x37e334(0x9b)](0xa,0xc),_0xc6c549[_0x37e334(0xb4)]>0xc&&(_0x4d6be4+='-'+_0xc6c549[_0x37e334(0x9b)](0xc,0xd))))));state['idCard']=_0x4d6be4,_0x2073ff['target']['value']=_0x4d6be4;const _0x590967=document[_0x37e334(0xc3)](_0x37e334(0xae)),_0x18332a=document[_0x37e334(0xc3)]('icon-check-valid'),_0x2c9148=document[_0x37e334(0xc3)](_0x37e334(0x85));_0x2c9148[_0x37e334(0xbe)]=_0xc6c549[_0x37e334(0xb4)]+_0x37e334(0x7a),_0xc6c549[_0x37e334(0xb4)]===0xd?(_0x2073ff['target']['classList'][_0x37e334(0xc7)]('border-blue-500',_0x37e334(0x9a)),_0x18332a['classList'][_0x37e334(0x93)]('hidden'),_0x590967[_0x37e334(0xb7)]=![],_0x590967[_0x37e334(0xc8)]=_0x37e334(0x8d),_0x2c9148['className']='text-[10px]\x20font-mono\x20text-white\x20bg-green-500\x20px-2\x20py-0.5\x20rounded-full'):(_0x2073ff[_0x37e334(0xa2)][_0x37e334(0x8a)][_0x37e334(0x93)](_0x37e334(0x97),_0x37e334(0x9a)),_0x18332a[_0x37e334(0x8a)][_0x37e334(0xc7)](_0x37e334(0xb9)),_0x590967[_0x37e334(0xb7)]=!![],_0x590967[_0x37e334(0xc8)]=_0x37e334(0xac),_0x2c9148['className']=_0x37e334(0xbd));}async function submitForm(_0x37e390){const _0x4dbc39=_0x422230;_0x37e390['preventDefault']();if(!state[_0x4dbc39(0xc5)]){await initAuth();if(!state[_0x4dbc39(0xc5)])return;}const _0x335e77=document['getElementById'](_0x4dbc39(0xae)),_0x203533=document[_0x4dbc39(0xc3)](_0x4dbc39(0x78)),_0x3a8a0b=document['getElementById'](_0x4dbc39(0x7e));_0x335e77[_0x4dbc39(0xb7)]=!![],_0x203533['innerText']='กำลังตรวจสอบ...',_0x3a8a0b[_0x4dbc39(0x8a)]['remove'](_0x4dbc39(0xb9));try{const _0x3b2eaf=String(state[_0x4dbc39(0xc6)]['replace'](/-/g,'')),_0x473333=await sha256(_0x3b2eaf);if(!_0x473333)throw new Error('Encryption\x20failed');const _0x1b35fe=query(collection(db,finalCollectionPath),where(_0x4dbc39(0x7c),'==',_0x473333)),_0x28e806=await getDocs(_0x1b35fe);if(!_0x28e806['empty']){const _0x4a42a5=_0x28e806[_0x4dbc39(0xc0)][0x0],_0x5aaf45=doc(db,finalCollectionPath,_0x4a42a5['id']);await updateDoc(_0x5aaf45,{'DateLogin':serverTimestamp()}),state[_0x4dbc39(0x9c)]={'id':_0x4a42a5['id'],..._0x4a42a5['data']()},populateMemberData(state[_0x4dbc39(0x9c)]),document[_0x4dbc39(0xc3)](_0x4dbc39(0xaf))[_0x4dbc39(0x8a)][_0x4dbc39(0xc7)]('hidden'),document['getElementById'](_0x4dbc39(0xca))['classList'][_0x4dbc39(0x93)]('hidden');}else document[_0x4dbc39(0xc3)]('screen-form')[_0x4dbc39(0x8a)][_0x4dbc39(0xc7)](_0x4dbc39(0xb9)),document[_0x4dbc39(0xc3)](_0x4dbc39(0x89))[_0x4dbc39(0x8a)][_0x4dbc39(0x93)](_0x4dbc39(0xb9));}catch(_0x476589){console[_0x4dbc39(0xc1)](_0x4dbc39(0xa3),_0x476589),document[_0x4dbc39(0xc3)](_0x4dbc39(0xcb))[_0x4dbc39(0xbe)]=_0x4dbc39(0x7f)+_0x476589[_0x4dbc39(0x9e)],document[_0x4dbc39(0xc3)]('screen-form')[_0x4dbc39(0x8a)][_0x4dbc39(0xc7)](_0x4dbc39(0xb9)),document[_0x4dbc39(0xc3)](_0x4dbc39(0xba))['classList'][_0x4dbc39(0x93)](_0x4dbc39(0xb9));}finally{_0x335e77[_0x4dbc39(0xb7)]=![],_0x203533[_0x4dbc39(0xbe)]='ตรวจสอบข้อมูล',_0x3a8a0b[_0x4dbc39(0x8a)]['add'](_0x4dbc39(0xb9));if(window[_0x4dbc39(0xa6)])lucide['createIcons']();}}document[_0x422230(0xc3)](_0x422230(0x90))[_0x422230(0x94)](_0x422230(0x98),submitForm),document['getElementById'](_0x422230(0xc6))[_0x422230(0x94)]('input',handleIdInput),window[_0x422230(0x94)](_0x422230(0x81),()=>{const _0xada8e4=_0x422230;document[_0xada8e4(0xc3)](_0xada8e4(0xc6))[_0xada8e4(0xa7)](),initAuth();if(window[_0xada8e4(0xa6)])lucide[_0xada8e4(0xc4)]();});

    </script>
</body>

</html>
